<!DOCTYPE html>
<html>
<head>
<title>评论管理</title>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" href="../../themes/icon.css" />
<link rel="stylesheet" type="text/css"
	href="../../themes/custom/easyui.css" />
<script type="text/javascript" src="../../js/jquery.js"></script>
<script type="text/javascript" src="../../js/common.js"></script>
<script type="text/javascript" src="../../js/config.js"></script>
<script type="text/javascript" src="../../js/json2.js"></script>
<script type="text/javascript" src="../../js/jquery.easyui.min.js"></script>
<script type="text/javascript" src="../../js/util.js?v=1"></script>
<script type="text/javascript" src="../../js/easyui-lang-zh_CN.js"></script>
<script type="text/javascript" src="../../js/jquery.cookie.js"></script>
<script type="text/javascript" src="../../js/jquery.query.js"></script>
<link rel="stylesheet" href="../../css/common.css?v=2" type="text/css"></link>
<link rel="stylesheet" href="../../css/base.css" type="text/css"></link>
<script type="text/javascript" src="../../js/management.js"></script>
<script type="text/javascript">
	managementContext.dataName = "CmsComment";
	managementContext.tableName = "cms_comment";
	managementContext.primaryKeyName = "id";
	managementContext.detailPageMode = "Page";

	managementContext.customTableColumns = [ {
		field : 'name',
		title : '栏目',
		fixed : true,
		width : 150,
		align : 'left'
	}, {
		field : 'title',
		title : '内容',
		fixed : true,
		width : 150,
		align : 'left'
	}, {
		field : 'content',
		title : '评论',
		fixed : true,
		width : 80,
		align : 'center'
	}, {
		field : 'create_time',
		title : '时间',
		width : 100,
		align : 'left'
	} ];

	function bindControls() {

	}

	function getGridRow(dataItem) {
		var lnkViewHtml = getGridViewButtonHtml(dataItem);
		var lnkEditHtml = getGridEditButtonHtml(dataItem);
		var lnkDeleteHtml = getGridDeleteButtonHtml(dataItem);
		var operation = "<div class='grid_commands'>" + lnkViewHtml
				+ lnkEditHtml + lnkDeleteHtml + "</div>";

		var gridRow = {
			id : dataItem.id,
			name : dataItem.name,
			title : dataItem.title,
			content : dataItem.content,
			create_time : dataItem.create_time,
			operation : operation
		};
		return gridRow;

	}
	/*
	取得请求参数
	 */
	function getParameters() {
		var parameters = getParametersBase();
		//var cmsChannelId = getSelectedcmsChannelId();
		var cmsSiteId = $.cookie("cmsSiteId");
		parameters.condition = "cms_site_id='" + cmsSiteId + "'";
		/* if (cmsChannelId != 0) {
			parameters.condition = "cms_channel_id=" + cmsChannelId + "";
		} */
		return parameters;
	}
</script>

</head>

<body>
	<div class="page">
		<div class="toolbar_panel" id="divToolbar">
			<a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true"
				onclick="openAddDialog()" id="btnAdd">新增</a> <a href="#"
				class="easyui-linkbutton" iconCls="icon-remove" plain="true"
				onclick="deleteDataItems()" id="btnBatchDelete">删除</a><a
				id="lnkRefreshPage" href="#" class="easyui-linkbutton"
				iconCls="icon-reload" plain="true" onclick="refreshPage()">刷新</a>
		</div>
		<div id="divSearchPanel" class="search_panel easyui-panel">
			<div class="search_item">
				<span class="search_item_caption">名称:</span> <input
					id="txtSearchName" class="search_item_textbox easyui-textbox">
			</div>
			<div class="search_item">
				<span class="search_item_caption">描述:</span> <input
					id="txtSearchDescription"
					class="search_item_textbox easyui-textbox">
			</div>
			<div class="search_item_command">
				<a href="#" class="easyui-linkbutton" plain="true"
					iconCls="icon-search" onclick="query()">查询</a>
			</div>
		</div>
		<div class="data_panel">
			<table id="tableGrid" class="easyui-datagrid" style="height:auto;"
				divToolbar="#divToolbar" fitColumns="true" pagination="true">
				<!-- <thead>
					<tr>
						<th field="ck" checkbox="true" width="30px" fixed="true"></th>
						<th field="operation" width="150px" align="center" fixed="true">操作</th>
						<th field="name" width="100px" align="center" fixed="true">栏目</th>
						<th field="title" width="100px" align="center" fixed="true">内容</th>
						<th field="content" width="100px" align="left">评论</th>
						<th field="create_time" width="100px" align="left">时间</th>
					</tr>
				</thead> -->
			</table>
		</div>




		<div id="divDetailDialog" class="easyui-dialog" style="width:400px"
			closed="true" buttons="#divDetailCommandBar">
			<form id="formDetail" method="post" novalidate
				style="margin:0;padding:20px 50px">
				<div style="margin-bottom:10px">
					<input id="txtCode" name="txtCode" class="easyui-textbox"
						label="编码:" labelPosition="top" style="width:100%">
				</div>
				<div style="margin-bottom:10px">
					<input id="txtName" name="txtName" class="easyui-textbox"
						label="名称:" labelPosition="top" style="width:100%">
				</div>
				<div style="margin-bottom:10px">
					<input id="txDisplayOrder" name="txDisplayOrder"
						class="easyui-textbox" label="排序:" labelPosition="top"
						style="width:100%">
				</div>
				<div style="margin-bottom:10px">
					<input id="txtDescription" name="txtDescription"
						class="easyui-textbox" label="描述:" multiline="true"
						labelPosition="top" style="width:100%;height:120px;">
				</div>
			</form>
		</div>
		<div id="divDetailCommandBar" class="detail_commandbar">
			<a href="javascript:void(0)" class="easyui-linkbutton"
				iconCls="icon-ok" onclick="save()" style="width:90px" id="btnSave">保存</a>
			<a href="javascript:void(0)" class="easyui-linkbutton"
				iconCls="icon-ok" onclick="save()" style="width:90px" id="btnSave">保存</a>
			<a href="javascript:void(0)" class="easyui-linkbutton"
				iconCls="icon-cancel"
				onclick="javascript:$('#divDetailDialog').dialog('close')"
				style="width:90px">取消</a>
		</div>
	</div>

</body>
</html>