<!DOCTYPE html>
<html>
<head>
<title>组织机构</title>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css"
	href="../../themes/custom/easyui.css" />
<link rel="stylesheet" type="text/css" href="../../themes/icon.css" />
<script type="text/javascript" src="../../js/jquery.js"></script>
<script type="text/javascript" src="../../js/common.js"></script>
<script type="text/javascript" src="../../js/config.js"></script>
<script type="text/javascript" src="../../js/json2.js"></script>
<script type="text/javascript" src="../../js/jquery.easyui.min.js"></script>
<script type="text/javascript" src="../../js/util.js?v=1"></script>
<script type="text/javascript" src="../../js/easyui-lang-zh_CN.js"></script>
<script type="text/javascript" src="../../js/jquery.cookie.js"></script>
<script type="text/javascript" src="../../js/jquery.query.js"></script>
<link rel="stylesheet" href="../../css/common.css" type="text/css"></link>
<link rel="stylesheet" href="../../css/base.css" type="text/css"></link>
<script type="text/javascript" src="../../js/management.js?v=12"></script>
<script>
	managementContext.dataName = "SysOrganization";
	managementContext.tableName = "sys_organization";
	managementContext.title = "组织机构";
	managementContext.gridType = "Tree";
	/*
	取得树的列
	 */
	function getTreeColumns(lstData) {
		var treeColumns = [ [ {
			title : '操作',
			field : 'operation',
			width : 200,
			fixed : true,
			align : 'center'
		}, {
			title : '名称',
			field : 'name',
			fixed : true,
			width : 180
		}, {
			field : 'description',
			title : '描述',
			width : 100,
		} ] ];
		return treeColumns;

	}
	/*
	绑定控件
	 */
	function bindControls() {
		//上级组织机构
		bindIdNameComboTree("ctParentId", "sys_organization");
	}
	/*
	刷新控件
	 */
	function refreshControls() {
		//上级菜单
		bindIdNameComboTree("ctParentId", "sys_organization");
	}
</script>
</head>

<body>
	<div class="page">
		<div class="toolbar_panel" id="divToolbar">
			<a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true"
				onclick="openAddDialog()" id="btnAdd">新增</a> <a href="#"
				class="easyui-linkbutton" iconCls="icon-remove" plain="true"
				onclick="deleteDataItems()" id="btnBatchDelete">删除</a><a id="lnkRefreshPage" href="#"
				class="easyui-linkbutton" iconCls="icon-reload" plain="true"
				onclick="refreshPage()">刷新</a>
		</div>
		<div id="divSearchPanel" class="search_panel easyui-panel">
			<div class="search_item">
				<span class="search_item_caption">名称:</span> <input
					id="txtSearchName" class="search_item_textbox easyui-textbox">
			</div>
			<div class="search_item">
				<span class="search_item_caption">描述:</span> <input
					id="txtSearchDescription"
					class="search_item_textbox easyui-textbox">
			</div>
			<div class="search_item_command">
				<a href="#" class="easyui-linkbutton" plain="true"
					iconCls="icon-search" onclick="query()">查询</a>
			</div>
		</div>
		<div class="data_panel">
			<table id="tableGrid" class="easyui-treegrid" style="height:auto;">
			</table>
		</div>
		<div id="divDetailDialog" class="easyui-dialog" style="width:700px;min-height:500px;"
			closed="true" buttons="#divDetailCommandBar">
			<form id="formDetail" method="post" novalidate class="formDetail">
				<div class="form_item">
					<div class="form_item_caption">
                        <span>名称:</span>
                    </div>
                    <div class="form_item_value">
					<input id="txtName" class="easyui-textbox"
						labelPosition="left" style="width:100%;height:100%;" />
					</div>
				</div>
				<div class="form_item">
					<div class="form_item_caption">
                        <span>上级:</span>
                    </div>
                    <div class="form_item_value">
					<input id="ctParentId" class="easyui-combotree" 
						labelPosition="left" style="width:100%;height:100%;" />
					</div>
				</div>
				<div class="form_item_full">
					<div class="form_item_full_caption">
                        <span>描述:</span>
                    </div>
                    <div class="form_item_full_value">
					<input id="txtDescription" class="easyui-textbox" 
						multiline="true" labelPosition="left"
						style="width:100%;height:120px;" />
					</div>
				</div>
			</form>
		</div>
		<div id="divDetailCommandBar" class="detail_commandbar">
			<a href="javascript:void(0)" class="easyui-linkbutton"
				iconCls="icon-ok" onclick="save()" style="width:90px" id="btnSave">保存</a>
			<a href="javascript:void(0)" class="easyui-linkbutton"
				iconCls="icon-cancel"
				onclick="javascript:$('#divDetailDialog').dialog('close')"
				style="width:90px">取消</a>
		</div>
	</div>
</body>
</html>