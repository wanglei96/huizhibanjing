(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/index"],{3566:function(e,t,o){"use strict";o.r(t);var a=o("a999"),n=o("ff09");for(var i in n)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(i);o("55c4");var d=o("f0c5"),s=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);t["default"]=s.exports},"55c4":function(e,t,o){"use strict";var a=o("de62"),n=o.n(a);n.a},"9f5a":function(e,t,o){"use strict";(function(e){var a=o("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(o("448a")),i=a(o("c52e")),d=a(o("bd74")),s=(a(o("f0ad")),e.getSystemInfoSync().statusBarHeight),r=e.getSystemInfoSync().screenHeight,c=null,u={data:function(){return{url:"http://admin.8630.net/WYB/UploadFile/headerTopbg.png",imageRootUrl:d.default.imageRootUrl,adminRootUrl:d.default.adminRootUrl+"/",statusBarHeight:s,screenHeight:r,searchContent:"",head_is_fixed:0,ageTypeList:[],ageTypeIndex:0,ageID:"",booksCategoryList:[],booksList:[],selectedCategoryIndex:0,selectedCategoryID:"",rpxWindowHeight:0,loadingText:"正在加载...",showLoadMore:!1,pageIndex:0,pageSize:20,pageCount:0}},onReady:function(){},onShow:function(){c.booksList=[],c.bindData()},onPageScroll:function(e){c.head_is_fixed=e.scrollTop>0?1:0},onLoad:function(){c=this},methods:{clickAgeType:function(e){c.booksList=[],c.ageTypeIndex=e,c.bindGetViewBookSkuAgeGroupList(),c.selectedCategoryIndex=0,c.selectedCategoryID=""},clickBooksCategory:function(e,t){c.booksList=[],c.selectedCategoryIndex=e,c.selectedCategoryID=t,c.bindGetBookInfoList()},bindData:function(){c.bindAgeGroupList()},bindAgeGroupList:function(){c.ageTypeList=[];var e={enabled:!0,orderBy:"display_order"};i.default.call("GetAgeGroupList",e,(function(e){c.ageTypeList=e.data.dataList,console.log(c.ageTypeList),c.bindGetViewBookSkuAgeGroupList()}))},bindGetViewBookSkuAgeGroupList:function(){c.booksCategoryList=[];var e={};e.ageGroupId=c.ageTypeList[c.ageTypeIndex].id,e.companyId=35,e.pageSize=1e4,i.default.call("GetViewBookTagListByCondition",e,(function(e){c.booksCategoryList.push({id:0,name:"全部"});for(var t=0;t<e.data.length;t++){var o={id:e.data[t].id,name:e.data[t].name};c.booksCategoryList.push(o)}console.log(c.booksCategoryList),c.bindGetBookInfoList()}))},bindGetBookInfoList:function(){var e={companyId:35};e.ageGroupSelectValue=c.ageTypeList[c.ageTypeIndex].id,""!=c.selectedCategoryID&&(e.bookTagSelectValue=c.selectedCategoryID),""!=c.searchContent&&(e.searchContent=c.searchContent),e.pageIndex=c.pageIndex,e.pageSize=c.pageSize,e.orderBy="create_time desc",i.default.call("GetViewBookSkuInfoList",e,(function(e){var t;console.log(e),(t=c.booksList).push.apply(t,(0,n.default)(e.data.dataList)),c.pageCount=e.data.pageCount,c.pageIndex=e.data.pageIndex,c.pageSize=e.data.pageSize,(0==c.booksList.length||c.booksList.length<=20)&&(c.loadingText="没有更多数据了")}))},clickSearch:function(){c.booksList=[],c.bindGetBookInfoList()},clickToBooksDetail:function(t){e.navigateTo({url:"/pages/home/booksDetail?bookSkuID="+t.id})},lower:function(e){console.log("滚动到底部"),c.pageIndex+1==c.pageCount?c.loadingText="没有更多数据了":c.pageIndex+1<c.pageCount&&(c.pageIndex=c.pageIndex+1,c.showLoadMore=!0,c.loadingText="加载更多",c.bindGetBookInfoList())}}};t.default=u}).call(this,o("543d")["default"])},a08b:function(e,t,o){"use strict";(function(e,t){var a=o("4ea4");o("7037");a(o("66fd"));var n=a(o("3566"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(n.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},a999:function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return a}));var a={uniSearchBar:function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-search-bar/uni-search-bar")]).then(o.bind(null,"5d1a"))}},n=function(){var e=this.$createElement;this._self._c},i=[]},de62:function(e,t,o){},ff09:function(e,t,o){"use strict";o.r(t);var a=o("9f5a"),n=o.n(a);for(var i in a)["default"].indexOf(i)<0&&function(e){o.d(t,e,(function(){return a[e]}))}(i);t["default"]=n.a}},[["a08b","common/runtime","common/vendor"]]]);