{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Work/HB/BRP/pages/user/activityDetail.vue?b766","webpack:///D:/Work/HB/BRP/pages/user/activityDetail.vue?50d5","webpack:///D:/Work/HB/BRP/pages/user/activityDetail.vue?e67e","webpack:///D:/Work/HB/BRP/pages/user/activityDetail.vue?802a","uni-app:///pages/user/activityDetail.vue","webpack:///D:/Work/HB/BRP/pages/user/activityDetail.vue?73f6","webpack:///D:/Work/HB/BRP/pages/user/activityDetail.vue?40fe"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","html","url","imageRootUrl","adminRootUrl","statusBarHeight","head_is_fixed","id","clubActivityInfo","type","tagStyle","table","th","td","li","isAntiShake","memberName","memberPhone","components","mpHtml","popup","popupdialog","transition","onReady","onShow","withShareTicket","menus","onPageScroll","that","onLoad","methods","bindData","common","console","datas","clickToBack","uni","clickPublish","dialogInputConfirm","title","icon","duration","openId","description","outTradeNo","amount","notifyUrl","success","fail","content","showCancel","confirmText","filters","toTime","toAmount","toNull"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,uBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACc;;;AAG3E;AAC6M;AAC7M,gBAAgB,oNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,wOAEN;AACP,KAAK;AACL;AACA,aAAa,8LAEN;AACP,KAAK;AACL;AACA,aAAa,8RAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAA6zB,CAAgB,2zBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACiDj1B;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKA;AACA;AAAA,eACA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;IACAC;IACAC;IACAC;EACA;EACAC,6BAEA;EACAC;IACA7B;MACA8B;MACA;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IACAD;IACAA;IACAA;IACAA;EACA;;EACAE;IACAC;MACA;MACA/B;MACAgC;QACAC;QACAL;QACA;UACA;UACA;UACAK;UACA;UACAA;UACAL;QACA;UACAA;QACA;QACAK;MACA;MACA;MACAC;MACAF;QACAJ;QACAA;MACA;IACA;IACAO;MACAC;IACA;IACAC;MAAA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACAF;UACAG;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAL;UACAG;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAL;UACAG;UACAC;UACAC;QACA;QACA;MACA;MACA;QACAL;UACAG;UACAC;QACA;QACA;MACA;MACA;QACA;MACA;MACAZ;MACAK;MACA;MACA;MACA;QACAG;UACAG;UACAC;UACAC;QACA;QACA;MACA;MACAR;MACA;MACA;MACAjC;MACAA;MACAA;MACAA;MACA;MACA;MACA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAA;MACAgC;QACAA;UACAU;UAAA;UACAC;UAAA;UACAC;UAAA;UACAC;UAAA;UACA;UACAC;UAAA;UACAC;YAAA;YACAd;YACAG;cACAG;cACAC;cACAC;YACA;YACAb;UACA;UACAoB;YAAA;YACApB;YACAQ;cACAlC;YACA;UACA;QACA;MACA;QACA+B;QACA;UACAL;UACAQ;YACAG;YACAU;YACAC;YACAC;UACA;QACA;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC1QA;AAAA;AAAA;AAAA;AAAghD,CAAgB,s8CAAG,EAAC,C;;;;;;;;;;;ACApiD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/user/activityDetail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/activityDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./activityDetail.vue?vue&type=template&id=da7f73ca&\"\nvar renderjs\nimport script from \"./activityDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./activityDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./activityDetail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/activityDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityDetail.vue?vue&type=template&id=da7f73ca&\"","var components\ntry {\n  components = {\n    mpHtml: function () {\n      return import(\n        /* webpackChunkName: \"components/mp-html/mp-html\" */ \"@/components/mp-html/mp-html.vue\"\n      )\n    },\n    uniPopup: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    },\n    uniPopupDialog: function () {\n      return import(\n        /* webpackChunkName: \"components/uni-popup-dialog/uni-popup-dialog\" */ \"@/components/uni-popup-dialog/uni-popup-dialog.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"toTime\")(_vm.clubActivityInfo.expiryDateText)\n  var f1 = _vm._f(\"toNull\")(_vm.clubActivityInfo.address)\n  var f2 = _vm._f(\"toAmount\")(_vm.clubActivityInfo.cost)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1,\n        f2: f2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityDetail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"container\">\r\n\t\t\t<image :src=\"adminRootUrl + clubActivityInfo.detailImageFilePath\" style=\"width: 100%;height: 30.7vw; border-radius: 20rpx;\"></image>\r\n\t\t\t\t\r\n\t\t\t<view class=\"h20\"></view>\r\n\t\t\t<view class=\"contentPanel\">\r\n\t\t\t\t<view class=\"f30 ellipsis\" style=\"font-weight: bold;\">{{clubActivityInfo.name}}</view>\r\n\t\t\t\t<view class=\"f26 ellipsis line50\"><text class=\"text f26\">活动截止时间：</text><text class=\"f26\"\r\n\t\t\t\t\t\tstyle=\"font-weight: 600;color: #333333;\">{{clubActivityInfo.expiryDateText | toTime}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"f26 ellipsis\" style=\"line-height: 40rpx;\"><text class=\"text f26\">活动地点：</text><text\r\n\t\t\t\t\t\tclass=\"f26\" style=\"font-weight: 600;color: #333333;\">{{clubActivityInfo.address | toNull}}</text></view>\r\n\t\t\t\t<view class=\"f26 ellipsis line50\"><text class=\"text f26\">报名费：</text><text class=\"f26\"\r\n\t\t\t\t\t\tstyle=\"font-weight: 600;color: #333333;\">￥{{clubActivityInfo.cost | toAmount}}</text></view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h20\"></view>\r\n\t\t\t<view class=\"contentPanel\" style=\"margin-top: 60rpx;\">\r\n\t\t\t\t<view class=\"line70 highlight160Panel\">\r\n\t\t\t\t\t<view class=\"line60 center highlight160\">\r\n\t\t\t\t\t\t活动介绍\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<!-- <rich-text :nodes=\"clubActivityInfo.content\"></rich-text> -->\r\n\t\t\t\t\t<!-- <mp-html container-style=\"padding:20px\" :content=\"clubActivityInfo.content\" domain=\"https://mp-html.oss-cn-hangzhou.aliyuncs.com\" lazy-load scroll-table selectable use-anchor ::tag-style=\"tagStyle\" /> -->\r\n\t\t\t\t\t<mp-html :content=\"clubActivityInfo.content\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h180\"></view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"btn\" v-if=\"type == 'home'\">\r\n\t\t\t<view class=\"back\" @tap=\"clickToBack()\">返回</view>\r\n\t\t\t<view class=\"signUp\" @tap=\"clickPublish()\">报名</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<uni-popup ref=\"popup\" type=\"center\" >\r\n\t\t   <uni-popup-dialog ref=\"inputClose\" title=\"报名信息\" @confirm=\"dialogInputConfirm\">\r\n\t\t        <view class=\"popupSty\">\r\n\t\t           <input class=\"nickname\" type=\"text\"  v-model=\"memberName\"  placeholder=\"请输入孩子姓名\" style=\"border: 1px solid #ddd; height: 80rpx; border-radius: 20rpx;\"/>\r\n\t\t\t\t   <input class=\"nickname\" type=\"number\"  v-model=\"memberPhone\"  placeholder=\"请输入手机号\" style=\"border: 1px solid #ddd; height: 80rpx; border-radius: 20rpx; margin-top: 20rpx;\"/>\r\n\t\t        </view>\r\n\t\t    </uni-popup-dialog>\r\n\t\t</uni-popup>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport common from \"@/js/common.js\";\r\n\timport config from \"@/js/config.js\";\r\n\timport util from \"@/js/util.js\";\r\n\timport mpHtml from '@/components/mp-html/mp-html'\r\n\timport popup from \"@/components/uni-popup/uni-popup.vue\";\r\n\timport popupdialog from \"@/components/uni-popup-dialog/uni-popup-dialog.vue\";\r\n\timport transition from \"@/components/uni-transition/uni-transition.vue\"; \r\n\tlet statusBarHeight = uni.getSystemInfoSync().statusBarHeight; // 状态栏 高度\r\n\tlet that = null;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thtml: '<div>Hello World!</div>',\r\n\t\t\t\turl: \"http://admin.8630.net/WYB/UploadFile/headerTopbg.png\",\r\n\t\t\t\timageRootUrl: config.imageRootUrl, //图片地址\r\n\t\t\t\tadminRootUrl: config.adminRootUrl + \"/\", //后端图片地址\r\n\t\t\t\tstatusBarHeight, // 状态栏 高度\r\n\t\t\t\thead_is_fixed: 0,\r\n\t\t\t\tid: \"\", //活动ID\r\n\t\t\t\tclubActivityInfo: {}, //活动详情\r\n\t\t\t\ttype:'',\r\n\t\t\t\ttagStyle: {\r\n\t\t\t\t  table: 'box-sizing: border-box; border-top: 1px solid #dfe2e5; border-left: 1px solid #dfe2e5;',\r\n\t\t\t\t  th: 'border-right: 1px solid #dfe2e5; border-bottom: 1px solid #dfe2e5;',\r\n\t\t\t\t  td: 'border-right: 1px solid #dfe2e5; border-bottom: 1px solid #dfe2e5;',\r\n\t\t\t\t  li: 'margin: 5px 0;'\r\n\t\t\t\t},\r\n\t\t\t\tisAntiShake:false,//防抖\r\n\t\t\t\tmemberName:'',//孩子姓名\r\n\t\t\t\tmemberPhone:'',//手机号\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tmpHtml,\r\n\t\t\tpopup,\r\n\t\t\tpopupdialog,\r\n\t\t\ttransition\r\n\t\t},\r\n\t\tonReady() {\r\n\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\twx.showShareMenu({\r\n\t\t\t\twithShareTicket:true,\r\n\t\t\t\t//设置下方的Menus菜单，才能够让发送给朋友与分享到朋友圈两个按钮可以点击\r\n\t\t\t\tmenus:[\"shareAppMessage\",\"shareTimeline\"]\r\n\t\t\t})\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t\tthat.head_is_fixed = e.scrollTop > 0 ? 1 : 0\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthat = this;\r\n\t\t\tthat.id = option.id\r\n\t\t\tthat.type = option.type\r\n\t\t\tthat.bindData(); //\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tbindData() {\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.id = that.id\r\n\t\t\t\tcommon.call(\"GetViewClubActivity\", data, function(result) {\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tthat.clubActivityInfo = result.data\r\n\t\t\t\t\tif (that.clubActivityInfo.content != \"\" && that.clubActivityInfo.content != null) {\r\n\t\t\t\t\t\tvar str = that.clubActivityInfo.content\r\n\t\t\t\t\t\tlet reg = new RegExp('<img', 'g') //g代表全部\r\n\t\t\t\t\t\tconsole.log(reg)\r\n\t\t\t\t\t\tlet newMsgs = str.replace(reg, '<img width=\"100%\" ');\r\n\t\t\t\t\t\tconsole.log(newMsgs)\r\n\t\t\t\t\t\tthat.clubActivityInfo.content = newMsgs\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthat.clubActivityInfo.content = \"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(that.clubActivityInfo.content)\r\n\t\t\t\t});\r\n\t\t\t\tvar datas = {};\r\n\t\t\t\tdatas.id = common.getMemberId();\r\n\t\t\t\tcommon.call(\"GetViewMember\", datas, function(result) {\r\n\t\t\t\t\tthat.memberName = result.data.name\r\n\t\t\t\t\tthat.memberPhone = result.data.mobilePhone\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclickToBack() {\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\tclickPublish() { //报名\r\n\t\t\t\tvar isValid = common.checkLogin();\r\n\t\t\t\tif (!isValid) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$refs.popup.open();\r\n\t\t\t},\r\n\t\t\tdialogInputConfirm(){ //姓名提交提交\r\n\t\t\t\tif(that.memberName ==null || that.memberName ==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入姓名',\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tduration:1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(that.memberName == \"微信用户\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入姓名',\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tduration:1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif(that.memberPhone ==null || that.memberPhone ==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请输入手机号',\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tduration:1500\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tif (!(/^1(3|4|5|6|7|8|9)\\d{9}$/.test(this.memberPhone))) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请填写正确手机号码',\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.isAntiShake == true){\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthat.isAntiShake = true\r\n\t\t\t\tconsole.log(that.clubActivityInfo.expiryDateText)\r\n\t\t\t\tvar time1 = new Date(); // 当前时间\r\n\t\t\t\tvar time2 = new Date(that.clubActivityInfo.expiryDateText); // 截止时间\r\n\t\t\t\tif (time1 > time2) {\r\n\t\t\t\t    uni.showToast({\r\n\t\t\t\t    \ttitle: '已过截止时间',\r\n\t\t\t\t    \ticon: \"none\",\r\n\t\t\t\t\t\tduration:2500\r\n\t\t\t\t    });\r\n\t\t\t\t\treturn\r\n\t\t\t\t} \r\n\t\t\t\tconsole.log(util.getFormatTime(new Date()).replace(\"-\",\"\").replace(\":\",\"\").replace(\"-\",\"\").replace(\":\",\"\").replace(\" \",\"\"))\r\n\t\t\t\t// return\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.retailOrderNo = util.getFormatTime(new Date()).replace(\"-\",\"\").replace(\":\",\"\").replace(\"-\",\"\").replace(\":\",\"\").replace(\" \",\"\"); //订单编号\r\n\t\t\t\tdata.companyId = common.getCommunityId(); //门店ID\r\n\t\t\t\tdata.memberId = common.getMemberId(); //会员ID\r\n\t\t\t\tdata.clubActivityId = that.id; //活动ID\r\n\t\t\t\t//data.storyVideoId     // 单个视频购买ID                   不用传\r\n\t\t\t\t//data.nightStoryTypeId // 晚安故事购买类型ID//单个视频不传 不用传\r\n\t\t\t\t//data.nightStoryDays   // 晚安故事订阅天数//单个不传       不用传\r\n\t\t\t\tdata.businessDate = util.getFormatTime(new Date()) //订单日期\r\n\t\t\t\tdata.amount = that.clubActivityInfo.cost;\r\n\t\t\t\tdata.retailOrderTypeCode = \"ClueActivity\"   //零售单状态编码   //ClueActivity俱乐部活动）  （NightStory订阅晚安故事）  （StoryVideo购买一个视频）\r\n\t\t\t\tdata.retailOrderStatusCode = \"Paying\"//零售单类型编码（Paying）\r\n\t\t\t\tdata.name = that.memberName;\r\n\t\t\t\tdata.mobilePhone = that.memberPhone;\r\n\t\t\t\tcommon.call('AddRetailOrder', data, function(res) {\r\n\t\t\t\t\tcommon.payByWxa({\r\n\t\t\t\t\t\topenId: uni.getStorageSync(\"wxOpenId\"),//openID\r\n\t\t\t\t\t\tdescription: '俱乐部活动支付', //内容\r\n\t\t\t\t\t\toutTradeNo: data.retailOrderNo, //订单编号\r\n\t\t\t\t\t\tamount: that.clubActivityInfo.cost, //金额\r\n\t\t\t\t\t\t// amount: 0.1, //金额\r\n\t\t\t\t\t\tnotifyUrl: 'https://admin.brp.rome8.com/api/WxPayNotify',//回调地址\r\n\t\t\t\t\t\tsuccess: function(e) {//支付成功\r\n\t\t\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '报名成功',\r\n\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\tduration:5000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.isAntiShake = false\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function() {//支付失败\r\n\t\t\t\t\t\t\tthat.isAntiShake = false\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl: \"/pages/member/index\",\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tif (e.success == false) {\r\n\t\t\t\t\t\tthat.isAntiShake = false\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\tcontent: e.errorMessage,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\ttoTime: function(value) {\r\n\t\t\t\tvar date = new Date(value);\r\n\t\t\t\tvar year = date.getFullYear()\r\n\t\t\t\tvar month = date.getMonth() + 1\r\n\t\t\t\tvar day = date.getDate();\r\n\t\t\t\treturn year + \"年\" + month + \"月\" + day + \"日\"\r\n\t\t\t},\r\n\t\t\ttoAmount: function(value) {\r\n\t\t\t\tif (value == null || value == \"\") {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn value.toFixed(2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoNull(val){\r\n\t\t\t\tif(val ==null){\r\n\t\t\t\t\treturn \"\"\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn val\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import url(\"/css/common.css\");\r\n\r\n\tpage {\r\n\t\tbackground: #5EAC59;\r\n\t}\r\n\r\n\t.container {}\r\n\r\n\t.text {\r\n\t\tcolor: #999999;\r\n\t}\r\n\r\n\t.ellipsis {\r\n\t\ttext-overflow: ellipsis;\r\n\t\toverflow: hidden;\r\n\t\t-webkit-line-clamp: 2;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t}\r\n\r\n\t.highlight160Panel {\r\n\t\tbackground: white;\r\n\t\tborder-radius: 15px;\r\n\t\tpadding: 2px;\r\n\t\tposition: relative;\r\n\t\ttop: -45rpx;\r\n\t\twidth: 160rpx;\r\n\t\tmargin-left: -20rpx;\r\n\t}\r\n\r\n\t.highlight160 {\r\n\t\tbackground: #FFD965;\r\n\t\tborder-radius: 15px;\r\n\t\tborder-bottom-left-radius: 7px;\r\n\t\tborder-bottom-right-radius: 7px;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #000000;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tmargin-top: 20px;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 150rpx;\r\n\t\tbackground-color: #ffffff;\r\n\t\tbottom: 0;\r\n\t\tz-index: 8;\r\n\t}\r\n\r\n\t.back {\r\n\t\tcolor: #FACC3F;\r\n\t\twidth: 120px;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 27rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tborder: 1px solid #FACC3F;\r\n\t\tborder-radius: 448rpx;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 30rpx;\r\n\r\n\t}\r\n\r\n\t.signUp {\r\n\t\twidth: 120px;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 27rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tbackground: #FACC3F;\r\n\t\tborder-radius: 448rpx;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\t.popupSty {\r\n\t    width: 100%; \r\n\t    overflow: hidden;\r\n\t    >view {\r\n\t        font-size: 14px;\r\n\t        height: 50px;\r\n\t        border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n\t        display: flex;;\r\n\t        align-items: center;;\r\n\t        justify-content: center;\r\n\t        padding: 0 10px;\r\n\t    }\r\n\t}\r\n</style>","import mod from \"-!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityDetail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./activityDetail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1726024314391\n      var cssReload = require(\"D:/HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}