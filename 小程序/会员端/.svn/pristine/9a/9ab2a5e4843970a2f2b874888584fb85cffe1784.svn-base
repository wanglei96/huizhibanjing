{"version":3,"sources":["webpack:///D:/Work/HB/BRP/components/tsp-video/tsp-menu/tsp-menu-v.vue?5022","webpack:///D:/Work/HB/BRP/components/tsp-video/tsp-menu/tsp-menu-v.vue?82ac","webpack:///D:/Work/HB/BRP/components/tsp-video/tsp-menu/tsp-menu-v.vue?7e6b","webpack:///D:/Work/HB/BRP/components/tsp-video/tsp-menu/tsp-menu-v.vue?eb40","uni-app:///components/tsp-video/tsp-menu/tsp-menu-v.vue","webpack:///D:/Work/HB/BRP/components/tsp-video/tsp-menu/tsp-menu-v.vue?9c7e","webpack:///D:/Work/HB/BRP/components/tsp-video/tsp-menu/tsp-menu-v.vue?5eea"],"names":["components","data","isLike","isCollection","followShow","followOpen","fabuTimeOut","payTimeOut","arrayNightStoryType","videoID","props","index","type","default","vodIndex","vodCurIndex","item","discussNum","sliderDrag","moveOpacity","palyCartoon","onLoad","methods","fabulousBtn","console","common","setTimeout","that","obj","clickPay","bindPickerNightStoryTypeChange","openId","description","outTradeNo","amount","notifyUrl","success","uni","title","icon","duration","fail","content","showCancel"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACa;;;AAGtE;AACgN;AAChN,gBAAgB,oNAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAw0B,CAAgB,uzBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC0E51B;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAHA;AAAA,gBAIA;EACAA;IACA;EAAA,CACA;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;QACA;MACA;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MAAA;MACAN;MACAC;IACA;IACAM;MAAA;MACAP;MACAC;IACA;IACAO;MAAA;MACAR;MACAC;IACA;EACA;EACAQ,2BAEA;EACAC;IACA,YACAC;MACA;MACA;QACA;MACA;MACA;MACA;MACAC;MACAA;MACA;QACA;QACAvB;QACAA;QACAwB;UAAA;UACAC;YACAC;cACAA;cACAC;cACA;gBACAD;gBACAC;cACA;gBACAD;gBACAC;cACA;cACAJ;cACAG;YACA;YACAA;cACAA;YACA;UACA;QAEA;QACA;MACA;QACA;QACA1B;QACAA;QACAwB;UAAA;UACAC;YACAC;cACAA;cACAC;cACA;gBACAD;gBACAC;cACA;gBACAD;gBACAC;cACA;YACA;YACAJ;YACAG;YACAA;cACAA;YACA;UACA;QAEA;QACA;MACA;MACA;MACA;IACA;IACAE;MAAA;MACA;MACAF;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAG;MAAA;MACA;MACA;QACA;MACA;MACA;MACA;MACAH;MAEA;MACA1B;MACAA;MACAA;MACA;QAAA;QACAA;QACAA;QACA;MACA;QACAA;QACAA;QACAA;QACA;MACA;;MACAA;MACA;QAAA;QACAA;MACA;QACAA;MACA;MACA;QACAA;MACA;QACAA;MACA;;MACAwB;QACA;UAAA;UACAA;YACAM;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACA;YACAC;YAAA;YACAC;cACAZ;cACAa;gBACAC;gBACAC;gBACAC;cACA;cACA;gBAAA;gBACAhB;gBACAE;kBACAC;oBACAA;oBACAC;oBACAJ;oBACAG;kBACA;gBACA;gBACAA;kBACAA;gBACA;cACA;gBACAA;;kBAEAA;gBACA;cACA;YAEA;YACAc;cACAjB;cACAa;gBACAC;gBACAI;gBACAC;gBAAA;gBACAP;;oBAEAZ;kBACA;gBACA;cAAA;YAEA;UACA;QACA;UAAA;UACAa;YACAC;YACAI;YACAC;YAAA;YACAP;cACA;gBACAT;kBACAH;kBACAG;gBACA;cACA;YACA;UAAA;QACA;;;;;;;;;;;;;;;;;;AChVA;AAAA;AAAA;AAAA;AAAqrC,CAAgB,0nCAAG,EAAC,C;;;;;;;;;;;ACAzsC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/tsp-video/tsp-menu/tsp-menu-v.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tsp-menu-v.vue?vue&type=template&id=1352a5fd&\"\nvar renderjs\nimport script from \"./tsp-menu-v.vue?vue&type=script&lang=js&\"\nexport * from \"./tsp-menu-v.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tsp-menu-v.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/tsp-video/tsp-menu/tsp-menu-v.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tsp-menu-v.vue?vue&type=template&id=1352a5fd&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tsp-menu-v.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tsp-menu-v.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<!-- 头部 -->\r\n\t\t<view class=\"topTitle\"\r\n\t\t\t:class=\"[vodIndex == index?(sliderDrag?'vodMenu-bright1':(moveOpacity?'vodMenu-bright2':'vodMenu-bright0')):'']\">\r\n\t\t\t<!-- \t<view><text class=\"foot-name\">故事介绍</text></view> -->\r\n\t\t\t<view><text class=\"foot-cont\">《{{item.title}}》</text></view> <!-- {{item.recommendedReason}} -->\r\n\t\t\t<view style=\"width: 300rpx;\">\r\n\t\t\t\t<!-- <text class=\"foot-primary\">卧槽无情的原声-卧槽</text> -->\r\n\t\t\t\t<!-- <view style=\"height: 80rpx;transform: scale(0.85);margin-left: -32rpx;margin-bottom: -20rpx;\">\r\n\t\t\t\t\t<uninoticebar :single=\"true\" text=\"卧槽无情的原声-卧槽\" scrollable=\"true\" background-color=\"transparent\"\r\n\t\t\t\t\t color=\"#fff\" :speed=\"30\"></uninoticebar>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 底部标题 -->\r\n\t\t<view class=\"footTitle\"\r\n\t\t\t:class=\"[vodIndex == index?(sliderDrag?'vodMenu-bright1':(moveOpacity?'vodMenu-bright2':'vodMenu-bright0')):'']\">\r\n\t\t\t<view class=\"line50 payPanel\" style=\"\" v-show=\"item.isPay == false\">\r\n\t\t\t\t<view class=\"seconds\" style=\"\">试看30″</view>\r\n\t\t\t\t<picker @change=\"bindPickerNightStoryTypeChange\" :range=\"item.arrayNightStoryType\" range-key=\"name\" ref=\"aaa\">\r\n\t\t\t\t\t<view class=\"pay\" style=\"\" @click=\"clickPay(item)\">付费</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h30\"></view>\r\n\t\t\t<view><text class=\"foot-name\">故事介绍</text></view>\r\n\t\t\t<view><text class=\"foot-cont\"> {{item.recommendedReason}}</text></view> <!-- {{item.recommendedReason}} -->\r\n\t\t\t<view style=\"width: 300rpx;\">\r\n\t\t\t\t<!-- <text class=\"foot-primary\">卧槽无情的原声-卧槽</text> -->\r\n\t\t\t\t<!-- <view style=\"height: 80rpx;transform: scale(0.85);margin-left: -32rpx;margin-bottom: -20rpx;\">\r\n\t\t\t\t\t<uninoticebar :single=\"true\" text=\"卧槽无情的原声-卧槽\" scrollable=\"true\" background-color=\"transparent\"\r\n\t\t\t\t\t color=\"#fff\" :speed=\"30\"></uninoticebar>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 右侧操作栏 -->\r\n\t\t<view class=\"menuBox\">\r\n\t\t\t<view class=\"vodMenu\"\r\n\t\t\t\t:class=\"[vodIndex == index?(sliderDrag?'vodMenu-bright1':(moveOpacity?'vodMenu-bright2':'vodMenu-bright0')):'']\">\r\n\t\t\t\t<!-- 观看人数 -->\r\n\t\t\t\t<view class=\"fabulous\">\r\n\t\t\t\t\t<view class=\"fabulous-image fabulous-taoxin\">\r\n\t\t\t\t\t\t<image src=\"../../../static/image/video/haveSeen.png\" mode=\"\" class=\"fabulous-image\"\r\n\t\t\t\t\t\t\tstyle=\"width: 80rpx; height: 80rpx;\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"fabulous-num\">{{item.haveSeenCount}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 点赞 -->\r\n\t\t\t\t<view class=\"fabulous\">\r\n\t\t\t\t\t<view class=\"fabulous-image fabulous-taoxin\" @click=\"fabulousBtn('like')\">\r\n\t\t\t\t\t\t<image src=\"../../../static/image/video/like_active.png\" mode=\"\" class=\"fabulous-image\"\r\n\t\t\t\t\t\t\tv-if=\"item.isLike  == true\"></image>\r\n\t\t\t\t\t\t<image src=\"../../../static/image/video/like.png\" mode=\"\" class=\"fabulous-image\"\r\n\t\t\t\t\t\t\tv-if=\"item.isLike == false\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"fabulous-num\">{{item.likeCount}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 收藏 -->\r\n\t\t\t\t<view class=\"fabulous\">\r\n\t\t\t\t\t<view class=\"fabulous-image fabulous-taoxin\" @click=\"fabulousBtn('collect')\">\r\n\t\t\t\t\t\t<image src=\"../../../static/image/video/collect_active.png\" mode=\"\" class=\"fabulous-image\"\r\n\t\t\t\t\t\t\tv-if=\"item.isCollection == true\"></image>\r\n\t\t\t\t\t\t<image src=\"../../../static/image/video/collect.png\" mode=\"\" class=\"fabulous-image\"\r\n\t\t\t\t\t\t\tv-if=\"item.isCollection == false\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"fabulous-num\">{{item.collectionCount}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t// import uninoticebar from '../uni-notice-bar/uni-notice-bar.vue'\r\n\timport common from \"@/js/common.js\";\r\n\timport config from \"@/js/config.js\";\r\n\timport util from \"@/js/util.js\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\t// uninoticebar\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisLike: false, //点赞\r\n\t\t\t\tisCollection: false, //收藏\r\n\t\t\t\tfollowShow: null,\r\n\t\t\t\tfollowOpen: false,\r\n\t\t\t\tfabuTimeOut: null,\r\n\t\t\t\tpayTimeOut: null,\r\n\t\t\t\tarrayNightStoryType: [],//订阅类型列表\r\n\t\t\t\tvideoID:0,//视频ID\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tindex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tvodIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tvodCurIndex: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\titem: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdiscussNum: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tsliderDrag: { //是否在拖动进度\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tmoveOpacity: { //是否透明\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t},\r\n\t\t\tpalyCartoon: { //是否播放旋转头像\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/* 视频点赞动效 */\r\n\t\t\tfabulousBtn(type) {\r\n\t\t\t\tvar isValid = common.checkLogin();\r\n\t\t\t\tif (!isValid) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet obj = Object.assign({}, that.item)\r\n\t\t\t\tconsole.log(obj)\r\n\t\t\t\tconsole.log(type)\r\n\t\t\t\tif (type == \"like\") {\r\n\t\t\t\t\tvar data = {};\r\n\t\t\t\t\tdata.memberId = common.getMemberId(); //会员ID\r\n\t\t\t\t\tdata.storyVideoId = obj.id;//视频ID\r\n\t\t\t\t\tcommon.call('MemberLikeStoryVideo', data, function(res) { //点赞\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\t\t\t\tthat.item.isLike = !that.item.isLike\r\n\t\t\t\t\t\t\t\tobj.isLike = !obj.isLike\r\n\t\t\t\t\t\t\t\tif (that.item.isLike == true) {\r\n\t\t\t\t\t\t\t\t\tthat.item.likeCount += 1\r\n\t\t\t\t\t\t\t\t\tobj.likeCount += 1\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthat.item.likeCount -= 1\r\n\t\t\t\t\t\t\t\t\tobj.likeCount -= 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconsole.log(that.item.likeCount)\r\n\t\t\t\t\t\t\t\tthat.$forceUpdate()\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tthat.fabuTimeOut = setTimeout(() => {\r\n\t\t\t\t\t\t\t\tthat.$emit('handleInfo', obj) //点赞成功\r\n\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log(\"点赞：\" + this.item.isLike + \"obj：\" + obj.isLike)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar data = {};\r\n\t\t\t\t\tdata.memberId = common.getMemberId(); //会员ID\r\n\t\t\t\t\tdata.storyVideoId = obj.id;//视频ID\r\n\t\t\t\t\tcommon.call('MemberCollectStoryVideo', data, function(res) { //收藏\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\t\t\t\tthat.item.isCollection = !that.item.isCollection\r\n\t\t\t\t\t\t\t\tobj.isCollection = !obj.isCollection\r\n\t\t\t\t\t\t\t\tif (that.item.isCollection == true) {\r\n\t\t\t\t\t\t\t\t\tthat.item.collectionCount += 1\r\n\t\t\t\t\t\t\t\t\tobj.collectionCount += 1\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthat.item.collectionCount -= 1\r\n\t\t\t\t\t\t\t\t\tobj.collectionCount -= 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tconsole.log(that.item.collectionCount)\r\n\t\t\t\t\t\t\tthat.$forceUpdate()\r\n\t\t\t\t\t\t\tthat.fabuTimeOut = setTimeout(() => {\r\n\t\t\t\t\t\t\t\tthat.$emit('handleInfo', obj) //点赞成功\r\n\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// console.log(\"收藏：\" + this.item.isCollection + \"obj：\" + obj.collectionCount)\r\n\t\t\t\t}\r\n\t\t\t\t// obj.isLike = !obj.isLike\r\n\t\t\t\t// clearTimeout(this.fabuTimeOut)\r\n\t\t\t},\r\n\t\t\tclickPay(item) { //点击收费按钮\r\n\t\t\t\tlet that = this\r\n\t\t\t\tthat.arrayNightStoryType=[]\r\n\t\t\t\t// let obj = Object.assign({}, this.item)\r\n\t\t\t\t// clearTimeout(this.payTimeOut)\r\n\t\t\t\t// this.payTimeOut = setTimeout(()=>{\r\n\t\t\t\t// \tthis.$emit('handlePay',obj)  //点击收费按钮\r\n\t\t\t\t// },200)\r\n\t\t\t\t// var data = {};\r\n\t\t\t\t// data.loginName = \"sa\";\r\n\t\t\t\t// data.password = \"sa\";\r\n\t\t\t\t// common.call('Login', data, function(result) {\r\n\t\t\t\t// \tconsole.log(result)\r\n\t\t\t\t// });\r\n\t\t\t\t// let datas = {\r\n\t\t\t\t// \tid:0,\r\n\t\t\t\t// \tname:\"付费1元观看此视频\",\r\n\t\t\t\t// \tprice:1,\r\n\t\t\t\t// }\r\n\t\t\t\t// that.arrayNightStoryType.push(datas)\r\n\t\t\t\t// that.videoID = item.id\r\n\t\t\t\t// //console.log(item.id) //视频ID\r\n\t\t\t\t// var data = {};\r\n\t\t\t\t// data.tableName = \"night_story_type\"\r\n\t\t\t\t// common.call('GetTable', data, function(result) {\r\n\t\t\t\t// \t//console.log(result)\r\n\t\t\t\t// \tfor (let i = 0; i < result.data.length; i++) {\r\n\t\t\t\t// \t\tlet item = result.data[i];\r\n\t\t\t\t// \t\tlet datas = {\r\n\t\t\t\t// \t\t\tid:item.id,//ID\r\n\t\t\t\t// \t\t\tname:item.name,//名称\r\n\t\t\t\t// \t\t\tprice:item.price,//价格\r\n\t\t\t\t// \t\t\tdayCount:item.day_count,//天数\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tthat.arrayNightStoryType.push(datas)\r\n\t\t\t\t// \t}\r\n\t\t\t\t// \tconsole.log(that.arrayNightStoryType)\r\n\t\t\t\t// });\r\n\t\t\t},\r\n\t\t\tbindPickerNightStoryTypeChange(e){//订阅类型选择事件\r\n\t\t\t\tvar isValid = common.checkLogin();\r\n\t\t\t\tif (!isValid) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this\r\n\t\t\t\tlet obj = Object.assign({}, that.item)\r\n\t\t\t\tthat.arrayNightStoryType =  that.item.arrayNightStoryType\r\n\t\t\t\t\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.retailOrderNo = util.getFormatTime(new Date()).replace(\"-\",\"\").replace(\":\",\"\").replace(\"-\",\"\").replace(\":\",\"\").replace(\" \",\"\"); //订单编号\r\n\t\t\t\tdata.companyId = common.getCommunityId(); //门店ID\r\n\t\t\t\tdata.memberId = common.getMemberId(); //会员ID\r\n\t\t\t\tif(that.arrayNightStoryType[e.detail.value].code == 'BuyOneVideo'){//类型是1元购买\r\n\t\t\t\t\tdata.storyVideoId = that.item.id                                        // 单个视频购买ID                   \r\n\t\t\t\t\tdata.retailOrderTypeCode = \"StoryVideo\"   //零售单状态编码   //ClueActivity俱乐部活动）  （NightStory订阅晚安故事）  （StoryVideo购买一个视频）\r\n\t\t\t\t\t//console.log(\"一元购买\")\r\n\t\t\t\t}else{\r\n\t\t\t\t\tdata.nightStoryTypeId = that.arrayNightStoryType[e.detail.value].id       // 晚安故事购买类型ID//单个视频不传 \r\n\t\t\t\t\tdata.nightStoryDays = that.arrayNightStoryType[e.detail.value].day_count // 晚安故事订阅天数//单个不传     \r\n\t\t\t\t\tdata.retailOrderTypeCode = \"NightStory\"   //零售单状态编码   //ClueActivity俱乐部活动）  （NightStory订阅晚安故事）  （StoryVideo购买一个视频）\r\n\t\t\t\t\t//console.log(\"不是一元购买\")\r\n\t\t\t\t}\r\n\t\t\t\tdata.businessDate = util.getFormatTime(new Date()) //订单日期\r\n\t\t\t\tif(that.arrayNightStoryType[e.detail.value].code == 'BuyOneVideo'){//类型是1元购买\r\n\t\t\t\t\tdata.amount = that.arrayNightStoryType[e.detail.value].price;\r\n\t\t\t\t}else { \r\n\t\t\t\t\tdata.amount = that.arrayNightStoryType[e.detail.value].price;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.arrayNightStoryType[e.detail.value].code == 'TryThreeDays'){\r\t\t\t\t\tdata.retailOrderStatusCode = \"Paid\"//零售单类型编码（Paying）\r\t\t\t\t}else{\r\t\t\t\t\tdata.retailOrderStatusCode = \"Paying\"//零售单类型编码（Paying）\r\t\t\t\t}\r\n\t\t\t\tcommon.call('AddRetailOrder', data, function(res) {\r\n\t\t\t\t\tif(that.arrayNightStoryType[e.detail.value].code != 'TryThreeDays'){ // 不等于免费试看三天就需要支付\r\n\t\t\t\t\t\tcommon.payByWxa({\r\n\t\t\t\t\t\t\topenId: uni.getStorageSync(\"wxOpenId\"),//openID\r\n\t\t\t\t\t\t\tdescription: '晚安故事订阅', //内容\r\n\t\t\t\t\t\t\toutTradeNo: data.retailOrderNo, //订单编号\r\n\t\t\t\t\t\t\tamount: data.amount, //金额\r\n\t\t\t\t\t\t\t// amount: 0.1, //金额\r\n\t\t\t\t\t\t\tnotifyUrl: 'https://admin.brp.rome8.com/api/WxPayNotify',//回调地址\r\n\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '支付成功！',\r\n\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\tduration:2500\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tif(that.arrayNightStoryType[e.detail.value].code == 'BuyOneVideo'){//1元购买\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"1元购买\");\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthat.$nextTick(() => {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.item.isPay = true\r\n\t\t\t\t\t\t\t\t\t\t\tobj.isPay = true\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(that.item.isPay)\r\n\t\t\t\t\t\t\t\t\t\t\tthat.$forceUpdate()\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t}, 300)\r\n\t\t\t\t\t\t\t\t\tthat.fabuTimeOut = setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthat.$emit('handleOneFeeInfo', obj) //一元购买，当前视频可播放\r\n\t\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthat.fabuTimeOut = setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"三天免费  19.9支付 365支付\");\r\n\t\t\t\t\t\t\t\t\t\tthat.$emit('handlePayInfo') //三天免费  19.9支付 365支付  所有视频能看\r\n\t\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: function(e) {\r\n\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\t\tcontent: e,\r\n\t\t\t\t\t\t\t\t\tshowCancel: false,//没有取消按钮的弹框\r\n\t\t\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('用户点击确定');\r\n\t\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t}});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}else{ //三天免费\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: \"免费试看3天订阅完成\",\r\n\t\t\t\t\t\t\tshowCancel: false,//没有取消按钮的弹框\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tthat.fabuTimeOut = setTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"三天免费\");\r\n\t\t\t\t\t\t\t\t\t\tthat.$emit('handlePayInfo') //三天免费  19.9支付 365支付  所有视频能看\r\n\t\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t}});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/* 右边菜单栏 */\r\n\t.menuBox {\r\n\t\tposition: absolute;\r\n\t\tright: 10rpx;\r\n\t\twidth: 115rpx;\r\n\t\theight: 100%;\r\n\t\tz-index: 8;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.avatarMenu {\r\n\t\tposition: absolute;\r\n\t\tbottom: 20px;\r\n\t\tright: 10rpx;\r\n\t\twidth: 115rpx;\r\n\t\tz-index: 8;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.vodMenu {\r\n\t\tmargin-top: 500rpx;\r\n\t\twidth: 115rpx;\r\n\t\t/* bottom: 400rpx; */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.vodMenu-bright0 {\r\n\t\topacity: 1;\r\n\t\ttransition: all 0.3s linear;\r\n\t}\r\n\r\n\t.vodMenu-bright1 {\r\n\t\topacity: 0;\r\n\t\ttransition: all 0.3s linear;\r\n\t}\r\n\r\n\t.vodMenu-bright2 {\r\n\t\topacity: 0.2;\r\n\t\ttransition: all 0.3s linear;\r\n\t}\r\n\r\n\t.menu-avatar {\r\n\t\tposition: relative;\r\n\t\twidth: 115rpx;\r\n\t\theight: 115rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.avatar-image {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.follow {\r\n\t\tposition: absolute;\r\n\t\tbottom: -20rpx;\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.follow:active {\r\n\t\ttransform: scale(0.7);\r\n\t\ttransition: all 0.3s linear;\r\n\t}\r\n\r\n\t.follow-guanzhu {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t}\r\n\r\n\t.guanzhu-gou {\r\n\t\twidth: 30rpx;\r\n\t\theight: 30rpx;\r\n\t}\r\n\r\n\t.followActive {\r\n\t\ttransform: rotate(180deg);\r\n\t\ttransition: all 0.5s linear;\r\n\t}\r\n\r\n\t.followHide {\r\n\t\ttransform: scale(0);\r\n\t\ttransition: all 0.8s linear;\r\n\t}\r\n\r\n\t.fabulous {\r\n\t\twidth: 100rpx;\r\n\t\t/* margin-top: 80rpx; */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.fabulous-image {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t}\r\n\r\n\t.fabulous-num {\r\n\t\twidth: 100rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.fabulous-taoxin:active {\r\n\t\ttransition: all 0.2s linear;\r\n\t\ttransform: scale(0.7);\r\n\t}\r\n\r\n\t.rotate-avatar {\r\n\t\twidth: 95rpx;\r\n\t\theight: 95rpx;\r\n\t\tborder-radius: 95rpx;\r\n\t\tbackground-color: #333333;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tanimation: rotateName 5s linear infinite;\r\n\t}\r\n\r\n\t.rotate-image {\r\n\t\twidth: 55rpx;\r\n\t\theight: 55rpx;\r\n\t\tborder-radius: 55rpx;\r\n\t}\r\n\r\n\t@keyframes rotateName {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t/* 头部标题部分 */\r\n\t.topTitle {\r\n\t\tposition: absolute;\r\n\t\ttop: 20px;\r\n\t\tleft: 0;\r\n\t\tz-index: 8;\r\n\t\t/* width: 500rpx;\r\n\t\tmargin-left: 30rpx; */\r\n\t\twidth: 100%;\r\n\t\t/* margin-left: 15px; */\r\n\t\theight: 200rpx;\r\n\t\tline-height: 200rpx;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t/* 底部标题部分 */\r\n\t.footTitle {\r\n\t\tposition: absolute;\r\n\t\tbottom: 20px;\r\n\t\tleft: 0;\r\n\t\tz-index: 8;\r\n\t\twidth: 500rpx;\r\n\t\tmargin-left: 30rpx;\r\n\t}\r\n\r\n\t.foot-name {\r\n\t\tfont-size: 33rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.foot-cont {\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t.foot-primary {\r\n\t\tfont-size: 27rpx;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n\r\n\t.k-paused {\r\n\t\tanimation-play-state: paused;\r\n\t}\r\n\r\n\t.k-running {\r\n\t\tanimation-play-state: running;\r\n\t}\r\n\r\n\t.payPanel {\r\n\t\tborder: 1px solid #ffffff;\r\n\t\tbackground: #FACC3F;\r\n\t\twidth: 242rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\r\n\t.seconds {\r\n\t\tfloat: left;\r\n\t\ttext-align: center;\r\n\t\tborder-right: 1px solid #ffffff;\r\n\t\twidth: 120rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.pay {\r\n\t\tfloat: left;\r\n\t\ttext-align: center;\r\n\t\twidth: 120rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n</style>","import mod from \"-!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tsp-menu-v.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tsp-menu-v.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1713409634043\n      var cssReload = require(\"D:/HBuilder/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}