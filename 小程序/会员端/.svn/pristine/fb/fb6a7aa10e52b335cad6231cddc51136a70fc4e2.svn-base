(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/bookMark"],{"0a61":function(e,o,a){"use strict";var n=a("2b20"),t=a.n(n);t.a},"29dd":function(e,o,a){"use strict";a.r(o);var n=a("d7b7"),t=a.n(n);for(var d in n)["default"].indexOf(d)<0&&function(e){a.d(o,e,(function(){return n[e]}))}(d);o["default"]=t.a},"2b20":function(e,o,a){},"773c":function(e,o,a){"use strict";a.d(o,"b",(function(){return n})),a.d(o,"c",(function(){return t})),a.d(o,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},t=[]},bf36:function(e,o,a){"use strict";(function(e,o){var n=a("4ea4");a("7037");n(a("66fd"));var t=n(a("d8f6"));e.__webpack_require_UNI_MP_PLUGIN__=a,o(t.default)}).call(this,a("bc2e")["default"],a("543d")["createPage"])},d7b7:function(e,o,a){"use strict";(function(e){var n=a("4ea4");Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var t=n(a("448a")),d=n(a("c52e")),c=n(a("bd74")),i=(n(a("f0ad")),e.getSystemInfoSync().statusBarHeight),u=null,l={data:function(){return{url:"http://admin.8630.net/WYB/UploadFile/headerTopbg.png",imageRootUrl:c.default.imageRootUrl,adminRootUrl:c.default.adminRootUrl+"/",statusBarHeight:i,head_is_fixed:0,tabbarIndex:0,typeList:["可借","不可借"],current:0,items:["可借","不可借"],styleType:"button",activeColor:"#53D776",list:[{id:1,url:"/static/image/common/bookb1.jpg",name:"密码花园",type:"yes",typeList:[{code:"",name:"0-2岁"},{code:"",name:"3-6岁"},{code:"",name:"11-14岁"},{code:"",name:"洞洞翻翻纸板书"},{code:"",name:"精装"},{code:"",name:"获奖"},{code:"",name:"国家大师名作套系"}]},{id:2,url:"/static/image/common/bookb2.jpg",name:"安徒生童话全集",type:"no",typeList:[{code:"",name:"0-2岁"},{code:"",name:"3-6岁"},{code:"",name:"11-14岁"},{code:"",name:"绘本认知"},{code:"",name:"洞洞翻翻纸板书"},{code:"",name:"精装"},{code:"",name:"获奖"},{code:"",name:"国家大师名作套系"}]},{id:3,url:"/static/image/common/bookb3.jpg",name:"窗边的小豆豆",type:"yes",typeList:[{code:"",name:"0-2岁"},{code:"",name:"绘本认知"},{code:"",name:"洞洞翻翻纸板书"},{code:"",name:"精装"},{code:"",name:"国家大师名作套系"}]},{id:4,url:"/static/image/common/bookb4.jpg",name:"夏洛的网",type:"no",typeList:[{code:"",name:"0-2岁"},{code:"",name:"3-6岁"},{code:"",name:"11-14岁"},{code:"",name:"绘本认知"},{code:"",name:"洞洞翻翻纸板书"},{code:"",name:"精装"},{code:"",name:"获奖"},{code:"",name:"国家大师名作套系"}]},{id:5,url:"/static/image/common/bookb5.jpg",name:"柳林风声",type:"yes",typeList:[{code:"",name:"0-2岁"},{code:"",name:"3-6岁"},{code:"",name:"11-14岁"},{code:"",name:"绘本认知"},{code:"",name:"洞洞翻翻纸板书"},{code:"",name:"精装"},{code:"",name:"获奖"},{code:"",name:"国家大师名作套系"}]},{id:6,url:"/static/image/common/bookb6.jpg",name:"格林童话",type:"no",typeList:[{code:"",name:"0-2岁"},{code:"",name:"3-6岁"},{code:"",name:"11-14岁"},{code:"",name:"绘本认知"},{code:"",name:"洞洞翻翻纸板书"},{code:"",name:"精装"},{code:"",name:"获奖"},{code:"",name:"国家大师名作套系"}]}],bookSkuInfoList:[],loadingText:"正在加载...",showLoadMore:!1,pageIndex:0,pageSize:10,pageCount:0}},components:{},onReady:function(){},onShow:function(){},onPageScroll:function(e){u.head_is_fixed=e.scrollTop>0?1:0},onPullDownRefresh:function(){e.stopPullDownRefresh()},onReachBottom:function(){u.pageIndex+1==u.pageCount?u.loadingText="没有更多数据了":u.pageIndex+1<u.pageCount&&(u.pageIndex=u.pageIndex+1,this.showLoadMore=!0,u.loadingText="加载更多",u.bindData())},onLoad:function(){u=this,u.bookSkuInfoList=[],u.bindData()},methods:{bindData:function(){var e={collectMemberId:7,orderBy:"create_time"};e.pageIndex=u.pageIndex,e.pageSize=u.pageSize,d.default.call("GetViewBookSkuInfoList",e,(function(e){for(var o,a=0;a<e.data.dataList.length;a++){var n=e.data.dataList[a].ageGroupNames,d=e.data.dataList[a].bookTagNames;if(""!=n&&null!=n&&"null"!=n){var c=n.split(",");console.log(c),e.data.dataList[a].ageGroupNameList=c}else e.data.dataList[a].ageGroupNameList=[];if(""!=d&&null!=d&&"null"!=d){var i=d.split(",");e.data.dataList[a].bookTagList=i}else e.data.dataList[a].bookTagList=[]}(o=u.bookSkuInfoList).push.apply(o,(0,t.default)(e.data.dataList)),u.pageCount=e.data.pageCount,u.pageIndex=e.data.pageIndex,u.pageSize=e.data.pageSize,(0==u.bookSkuInfoList.length||u.bookSkuInfoList.length<=10)&&(u.showLoadMore=!0,u.loadingText="没有更多数据了"),console.log(u.bookSkuInfoList)}))},onClickItem:function(e){this.current!==e.currentIndex&&(this.current=e.currentIndex),u.bindData()},showType:function(e){this.tabbarIndex=e,u.bindData()},clickToBack:function(){e.navigateBack()},clickBorrow:function(o,a){var n={memberId:7,companyId:35};n.bookSkuId=u.id,d.default.call("AddOnLineBorrowBookOrder",n,(function(e){console.log(e)}),(function(o){console.log(o),0==o.success&&e.showModal({title:"提示",content:o.errorMessage,showCancel:!1,confirmText:"确定"})}))},clickCancelMark:function(o,a){var n={tableName:"member_bookmark"};n.condition="member_id = 7 and book_sku_id="+o.id,d.default.call("DeleteMemberBookmark",n,(function(o){e.showModal({title:"提示",content:"取消成功！",showCancel:!1,success:function(e){e.confirm&&u.bookSkuInfoList.splice(a,1)}})}))}}};o.default=l}).call(this,a("543d")["default"])},d8f6:function(e,o,a){"use strict";a.r(o);var n=a("773c"),t=a("29dd");for(var d in t)["default"].indexOf(d)<0&&function(e){a.d(o,e,(function(){return t[e]}))}(d);a("0a61");var c=a("f0c5"),i=Object(c["a"])(t["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);o["default"]=i.exports}},[["bf36","common/runtime","common/vendor"]]]);