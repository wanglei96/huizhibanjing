{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Work/HB/BRP/pages/home/booksDetail.vue?8b33","webpack:///D:/Work/HB/BRP/pages/home/booksDetail.vue?afa7","webpack:///D:/Work/HB/BRP/pages/home/booksDetail.vue?2dc1","webpack:///D:/Work/HB/BRP/pages/home/booksDetail.vue?c87f","uni-app:///pages/home/booksDetail.vue","webpack:///D:/Work/HB/BRP/pages/home/booksDetail.vue?c8a7","webpack:///D:/Work/HB/BRP/pages/home/booksDetail.vue?b4f0"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,wG,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,oBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;AACc;;;AAGxE;AAC8N;AAC9N,gBAAgB,oOAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAk4B,CAAgB,w4BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkEt5B;AACA;AACA,gF;AACA,8D,CAAA;AACA,gB;AACA;AACA,MADA,kBACA;AACA;AACA,iEADA;AAEA,gDAFA,EAEA;AACA,sDAHA,EAGA;AACA,sCAJA,EAIA;AACA,sBALA;AAMA,mBANA;AAOA,kBAPA;AAQA,mBARA,EAQA;AACA,4BATA;AAUA,yBAVA;AAWA,kBAXA,EAWA;AACA,iBAZA,EAYA;AACA,kBAbA,EAaA;AACA;AACA,6FADA,EACA,0FADA;AAEA,+FAFA,EAEA,uFAFA;AAGA,6FAHA,EAGA,uFAHA;AAIA,6FAJA,CAdA;;AAoBA;AACA,oBADA,EApBA;;;AAwBA,GA1BA;AA2BA,SA3BA,qBA2BA,EA3BA;AA4BA,QA5BA,oBA4BA,EA5BA;AA6BA,cA7BA,wBA6BA,CA7BA,EA6BA;AACA;AACA,GA/BA;AAgCA,QAhCA,kBAgCA,MAhCA,EAgCA;AACA;AACA;AACA,oBAHA,CAGA;AACA,GApCA;AAqCA;AACA,YADA,sBACA;AACA,6BADA,CACA;AACA,KAHA;AAIA,mBAJA,6BAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAFA,CAEA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA;AACA;AACA;AACA,8BAjBA,CAiBA;AACA,OAlBA;AAmBA,KA1BA;AA2BA;AACA;AACA;AACA,KA9BA;AA+BA,eA/BA,yBA+BA;AACA;AACA,KAjCA;AAkCA,kBAlCA,4BAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OATA;AAUA,KAhDA;AAiDA,SAjDA,iBAiDA,CAjDA,EAiDA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA,8BAJA,CAIA;AACA;AACA,KA3DA;AA4DA,mBA5DA,6BA4DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA,OAPA,EAOA;AACA;AACA;AACA;AACA,uBADA;AAEA,mCAFA;AAGA,6BAHA;AAIA,6BAJA;;AAMA;AACA,OAjBA;AAkBA,KAlFA;AAmFA,eAnFA,yBAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA,kCAFA;AAGA,4BAHA,EAGA;AACA;AACA;AACA;AACA;AACA,aARA;AASA,SAVA,MAUA;AACA;AACA;AACA,OAdA;AAeA,KAvGA;AAwGA,UAxGA,oBAwGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,0BAFA;AAGA,2BAHA;AAIA,2BAJA;;AAMA,+BARA,CAQA;AACA;AACA,OAVA,EAUA;AACA;AACA;AACA;AACA,uBADA;AAEA,mCAFA;AAGA,6BAHA;AAIA,6BAJA;;AAMA;AACA,OApBA;AAqBA,KAlIA;AAmIA,wBAnIA,kCAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,0BAFA;AAGA,2BAHA;AAIA,2BAJA;;AAMA,OARA,EAQA;AACA;AACA;AACA;AACA,uBADA;AAEA,mCAFA;AAGA,6BAHA;AAIA,6BAJA;;AAMA;AACA,OAlBA;AAmBA,KA1JA;AA2JA,sBA3JA,8BA2JA,IA3JA,EA2JA;AACA;AACA,+CADA;;AAGA,KA/JA,EArCA;;AAsMA;AACA,WADA,mBACA,GADA,EACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAVA,EAtMA,E;;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAipD,CAAgB,mlDAAG,EAAC,C;;;;;;;;;;;ACArqD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/home/booksDetail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/home/booksDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./booksDetail.vue?vue&type=template&id=f34a6d38&\"\nvar renderjs\nimport script from \"./booksDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./booksDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./booksDetail.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/home/booksDetail.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booksDetail.vue?vue&type=template&id=f34a6d38&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"ToIsOut\")(_vm.bookInfo.isOut)\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booksDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booksDetail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"container\">\r\n\t\t\t<view class=\"contentPanel\" style=\"border-radius: 18rpx; margin-top: 20rpx;\">\r\n\t\t\t\t<view class=\"booksList\">\r\n\t\t\t\t\t<view class=\"books-info\">\r\n\t\t\t\t\t\t<view class=\"img\">\r\n\t\t\t\t\t\t\t<image :src= \"adminRootUrl + bookInfo.imageFilePath\"  mode=\"\"></image><!-- aspectFit -->\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info\">\r\n\t\t\t\t\t\t\t<view class=\"f30 line60\" style=\"font-weight: bold;\">图书信息</view>\r\n\t\t\t\t\t\t\t<view class=\"f26 \"><text class=\"booksInfoTitle\" style=\"\">书名：</text>{{bookInfo.bookName}}</view>\r\n\t\t\t\t\t\t\t<view class=\"f26 ellipsis\"><text class=\"booksInfoTitle\">状态：</text>{{bookInfo.isOut | ToIsOut}}</view>\r\n\t\t\t\t\t\t\t<view class=\"f26 \"><text class=\"booksInfoTitle\">分类：</text>{{bookInfo.bookTagNames}}</view>\r\n\t\t\t\t\t\t\t<view class=\"f26 \"><text class=\"booksInfoTitle\">适合年龄：</text>{{bookInfo.ageGroupNames}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h40\"></view>\r\n\t\t\t<view class=\"contentPanel\"> <!-- 绘本系列 -->\r\n\t\t\t\t<view class=\"line70 highlight160Panel\">\r\n\t\t\t\t\t<view class=\"line60 center highlight160\">\r\n\t\t\t\t\t\t同系列图书\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<scroll-view class=\"scroll-view_H\" scroll-x=\"true\" @scroll=\"scroll\" @scrolltolower=\"lower\">\r\n\t\t\t\t\t<view class=\"scroll-view-item_H\" style=\"width: 70rpx;\">\r\n\t\t\t\t\t\t<view style=\"position: relative;overflow: hidden;height: 100% ;width: 100%;\" > \r\n\t\t\t\t\t\t\t<view style=\"display: grid;place-items: center;\">\r\n\t\t\t\t\t\t\t\t<image :src= \"imageRootUrl + 'image/home/series.png'\"   class=\"size50\" style=\"margin-top: 20rpx;\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"center seriesname\" style=\"width:70rpx;\">绘本系列</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-for=\"(item, index) in booksList\" :key=\"index\" style=\"\" class=\"scroll-view-item_H\">\r\n\t\t\t\t\t\t<view style=\"position: relative;overflow: hidden;height: 100% ;width: 100%;\" @tap=\"clickTobooksDetail(item)\">\r\n\t\t\t\t\t\t\t<view style=\"cursor: pointer;    \"> \r\n\t\t\t\t\t\t\t\t<image  :src=\"adminRootUrl + item.imageFilePath\" mode=\"aspectFit\" style=\" height: 210rpx;display: block;width: 95% ;  border:  2rpx solid rgb(211 211 211); border-radius: 10rpx;\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"line50 center f24\">{{item.bookName}}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</scroll-view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h40\"></view>\r\n\t\t\t<view class=\"contentPanel\"> <!-- 图书内容介绍 -->\r\n\t\t\t\t<view class=\"line70 highlight160Panel\">\r\n\t\t\t\t\t<view class=\"line60 center highlight160\">\r\n\t\t\t\t\t\t图书内容介绍\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<rich-text :nodes=\"bookInfo.introduction\" ></rich-text> \r\n\t\t\t</view>\r\n\t\t\t<view class=\"h180\"></view>\r\n\t\t</view>\r\n\t\t<view class=\"btn\">\r\n\t\t\t<view class=\"back\" @tap=\"clickCollection()\">收藏</view>\r\n\t\t\t<view class=\"signUp\" @tap=\"clickBorrow()\" v-if=\"bookInfo.isBookAvailable == 1\">借阅</view>\r\n\t\t\t<view class=\"signUp\" @tap=\"clickAddBorrowNotice()\" v-else>可借时通知</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport common from \"@/js/common.js\";\r\n\timport config from \"@/js/config.js\";\r\n\timport util from \"@/js/util.js\";\r\n\tlet statusBarHeight = uni.getSystemInfoSync().statusBarHeight; // 状态栏 高度\r\n\tlet that = null;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\turl:\"http://admin.8630.net/WYB/UploadFile/headerTopbg.png\",\r\n\t\t\t\timageRootUrl:config.imageRootUrl,//图片地址\r\n\t\t\t\tadminRootUrl:config.adminRootUrl +\"/\",//后端图片地址\r\n\t\t\t\tstatusBarHeight,// 状态栏 高度\r\n\t\t\t\thead_is_fixed:0,\r\n\t\t\t\tbookSkuID:'',\r\n\t\t\t\tbookInfo:{},\r\n\t\t\t\tbooksList:[],//同系列\r\n\t\t\t\tloadingText: \"正在加载...\",\r\n\t\t\t\tshowLoadMore: false,\r\n\t\t\t\tpageIndex: 0, //页数\r\n\t\t\t\tpageSize: 5, //条数\r\n\t\t\t\tpageCount: 0, //最大页数\r\n\t\t\t\tlist:[\r\n\t\t\t\t\t{id:1,name:'密码花园2',url:config.imageRootUrl + 'image/common/bookb1.jpg',},{id:2,name:'安徒生童话全集2',url:config.imageRootUrl + 'image/common/bookb2.jpg',},\r\n\t\t\t\t\t{id:3,name:'窗边的小豆豆2',url:config.imageRootUrl + 'image/common/bookb3.jpg',},{id:4,name:'夏洛的网2',url:config.imageRootUrl + 'image/common/bookb4.jpg',},\r\n\t\t\t\t\t{id:5,name:'柳林风声2',url:config.imageRootUrl + 'image/common/bookb5.jpg',},{id:6,name:'格林童话2',url:config.imageRootUrl + 'image/common/bookb6.jpg',},\r\n\t\t\t\t\t{id:5,name:'柳林风声2',url:config.imageRootUrl + 'image/common/bookb7.jpg',}\r\n\t\t\t\t],\r\n\t\t\t\told: {\r\n\t\t\t\t\tscrollTop: 0\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tonReady() {},\r\n\t\tonShow() {},\r\n\t\tonPageScroll(e) {\r\n\t\t    that.head_is_fixed = e.scrollTop > 0 ? 1 : 0\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tthat = this;\r\n\t\t\tthat.bookSkuID = option.bookSkuID\r\n\t\t\tthat.bindData(); //GetViewBook\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tbindData(){\r\n\t\t\t\tthat.bindGetViewBook(); //绑定书籍信息\r\n\t\t\t},\r\n\t\t\tbindGetViewBook(){ //绑定书籍信息\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.id = that.bookSkuID\r\n\t\t\t\tcommon.call(\"GetViewBookSkuInfoList\", data, function(result) {\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tthat.bookInfo = result.data.dataList[0]\r\n\t\t\t\t\t// console.log(that.bookInfo.isBookAvailable) ==0 不可借   ==1 可借\r\n\t\t\t\t\t//bookInfo.introduction\r\n\t\t\t\t\t//introduction\r\n\t\t\t\t\tif(that.bookInfo.introduction != \"\" && that.bookInfo.introduction != null){\r\n\t\t\t\t\t\tvar str = that.bookInfo.introduction\r\n\t\t\t\t\t\tlet reg=new RegExp('<img','g')//g代表全部\r\n\t\t\t\t\t\tconsole.log(reg)\r\n\t\t\t\t\t\tlet newMsgs=str.replace(reg,'<img width=\"100%\" ');\r\n\t\t\t\t\t\tconsole.log(newMsgs)\r\n\t\t\t\t\t\tthat.bookInfo.introduction=newMsgs\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthat.bookInfo.introduction=\"\"\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.bindbookSeries();//同系列\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tscroll: function(e) {\r\n\t\t\t\t//console.log(e)\r\n\t\t\t\tthis.old.scrollTop = e.detail.scrollTop\r\n\t\t\t},\r\n\t\t\tclickToBack(){\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\tbindbookSeries(){//同系列\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.bookSeriesId = that.bookInfo.bookSeriesId\r\n\t\t\t\tdata.companyId = 35\r\n\t\t\t\tcommon.call(\"GetViewBookSkuList\", data, function(result) {\r\n\t\t\t\t\t//console.log(result) \r\n\t\t\t\t\tthat.booksList.push(...result.data.dataList);\r\n\t\t\t\t\tthat.pageCount = result.data.pageCount;\r\n\t\t\t\t\tthat.pageIndex = result.data.pageIndex;\r\n\t\t\t\t\tthat.pageSize = result.data.pageSize;\r\n\t\t\t\t\tif(that.booksList.length== 0 || that.booksList.length<=10){\r\n\t\t\t\t\t\tthat.loadingText=\"没有更多数据了\" \r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlower(e){\r\n\t\t\t\tconsole.log(\"滚动到底部\")\r\n\t\t\t\tif ((that.pageIndex + 1) == that.pageCount) {\r\n\t\t\t\t\tthat.loadingText = \"没有更多数据了\";\r\n\t\t\t\t} else if ((that.pageIndex + 1) < that.pageCount) {\r\n\t\t\t\t\tthat.pageIndex = that.pageIndex + 1;\r\n\t\t\t\t\tthat.showLoadMore = true;\r\n\t\t\t\t\tthat.loadingText = \"加载更多\";\r\n\t\t\t\t\tthat.bindbookSeries();//绑定数据\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclickCollection(){//收藏\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.memberId = 7\r\n\t\t\t\tdata.bookSkuId = that.bookSkuID\r\n\t\t\t\tcommon.call(\"AddMemberBookmark\", data, function(result) {\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '收藏成功！',\r\n\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\tduration:2500\r\n\t\t\t\t\t});\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tif (e.success == false) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\tcontent: e.errorMessage,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclickBorrow(){//借阅\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.memberId = 7\r\n\t\t\t\tdata.book_sku_id =that.bookSkuID \r\n\t\t\t\tdata.fields = \"count(*) as count\"\r\n\t\t\t\tcommon.call(\"GetViewBookOrderItemList\", data, function(result) {\r\n\t\t\t\t\tif(result.data.dataList[0].count > 0){\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\tcontent: '您已经借过了是否还要借',\r\n\t\t\t\t\t\t\tshowCancel: true,//没有取消按钮的弹框\r\n\t\t\t\t\t\t\tsuccess: function (res) {\r\n\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\tthat.Borrow();\r\n\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t}});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.Borrow();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tBorrow(){//借阅\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.memberId = 7\r\n\t\t\t\tdata.companyId = 35\r\n\t\t\t\tdata.bookSkuId =that.bookSkuID \r\n\t\t\t\tcommon.call(\"AddOnLineBorrowBookOrder\", data, function(result) {\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\tcontent: \"借阅成功！\",\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthat.bindGetViewBook(); //绑定书籍信息\r\n\t\t\t\t\t// that.bookInfo.isBookAvailable = 1\r\n\t\t\t\t}, function(e) {\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tif (e.success == false) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\tcontent: e.errorMessage,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickAddBorrowNotice(){ //加入到可借通知\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.memberId = 7\r\n\t\t\t\tdata.bookSkuId = that.bookSkuID\r\n\t\t\t\tcommon.call(\"AddMemberBookSubscription\", data, function(result) {\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\tcontent: \"借阅成功！\",\r\n\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t});\r\n\t\t\t\t},function(e){\r\n\t\t\t\t\tconsole.log(e)\r\n\t\t\t\t\tif (e.success == false) {\r\n\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\ttitle: \"提示\",\r\n\t\t\t\t\t\t\tcontent: e.errorMessage,\r\n\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\tconfirmText: \"确定\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tclickTobooksDetail(item){//图书详情\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"booksDetail?bookSkuID=\" + item.id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\tToIsOut(val){\r\n\t\t\t\tif(val ==null){\r\n\t\t\t\t\treturn \"可借\"\r\n\t\t\t\t}\r\n\t\t\t\telse if(val ==true){\r\n\t\t\t\t\treturn \"不可借\"\r\n\t\t\t\t} else{\r\n\t\t\t\t\treturn \"\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t};\n</script>\n\n<style lang=\"scss\">\r\n\t@import url(\"/css/common.css\");\r\n\tpage {\r\n\t\tbackground: #5EAC59;\r\n\t}\r\n\t.container{\r\n\t\t\r\n\t}\r\n\t.booksList {\r\n\t\twidth: 100%;\r\n\t\tdisplay: block;\r\n\t\tposition: relative;\r\n\t\t.books-info {\r\n\t\t\tdisplay: flex;\r\n\t\t\twidth: calc(100%);\r\n\t\t\tpadding: 10rpx 10rpx 10rpx 10rpx;\r\n\t\t\tflex-wrap: nowrap;\r\n\t\t\tborder-bottom: 1px solid #dedede;\r\n\t\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\t\t\t.img {\r\n\t\t\t\twidth: calc(30vw - 70rpx);\r\n\t\t\t\theight: calc(28vw);\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tmargin-right: 20upx;\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: calc(30vw - 70rpx);\r\n\t\t\t\t\theight: calc(27vw);\r\n\t\t\t\t\tborder-radius: 20rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.info {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\t// height: calc(27vw);\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\talign-content: space-between;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\t\t\t.booksInfoTitle{\r\n\t\t\t\tcolor: #999999;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.highlight160Panel{\r\n\t\tbackground: white;\r\n\t\tborder-radius: 15px;\r\n\t\tpadding: 2px;\r\n\t\tposition: relative;\r\n\t\ttop: -45rpx;\r\n\t\twidth: 160rpx;\r\n\t\tmargin-left: -20rpx;\r\n\t}\r\n\t.highlight160{\r\n\t\tbackground: #FFD965;\r\n\t\tborder-radius: 15px;\r\n\t\tborder-bottom-left-radius: 7px;\r\n\t\tborder-bottom-right-radius: 7px;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #000000;\r\n\t}\r\n\t.scroll-view_H {\r\n\t\twhite-space: nowrap;\r\n\t\twidth: 100%;\r\n\t\t\r\n\t}\r\n\t.scroll-view-item_H {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 30%;\r\n\t\theight: 250rpx;\r\n\t\tline-height: 250rpx;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 36rpx;\r\n\t\tmargin-left: 2%;\r\n\t}\r\n\t.seriesname{\r\n\t\twriting-mode: vertical-lr;\r\t\ttext-orientation: upright;\r\t\ttext-align: left;\r\t\tfont-size: 20px;\r\t\tfont-family: Arial, sans-serif;\r\t\tline-height:60rpx;\r\t\tletter-spacing: 5px;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 600;\r\t}\r\n\t.btn{\r\n\t\tmargin-top: 20px;\r\n\t\tbottom: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 120rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center; align-items: center;\r\n\t\tposition: fixed; width: 100%; height: 150rpx; background-color: #ffffff; bottom: 0;z-index: 8;\r\n\t}\r\n\t.back {\r\n\t\tcolor: #FACC3F;\r\n\t\twidth: 120px;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 27rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tborder: 1px solid #FACC3F;\r\n\t\tborder-radius: 448rpx;font-weight: bold;font-size: 26rpx;\r\n\t\r\n\t}\r\n\t\r\n\t.signUp {\r\n\t\twidth: 120px;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 26rpx;\r\n\t\tline-height: 80rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tbackground: #FACC3F;\r\n\t\tborder-radius: 448rpx;font-weight: bold;font-size: 26rpx;\r\n\t\r\n\t}\r\n</style>","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booksDetail.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./booksDetail.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707110725120\n      var cssReload = require(\"C:/Users/Administrator/Desktop/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}