{"version":3,"sources":["uni-app:///main.js","webpack:///D:/Work/HB/BRP/pages/user/index.vue?4cae","webpack:///D:/Work/HB/BRP/pages/user/index.vue?f229","webpack:///D:/Work/HB/BRP/pages/user/index.vue?8c0f","webpack:///D:/Work/HB/BRP/pages/user/index.vue?8470","uni-app:///pages/user/index.vue","webpack:///D:/Work/HB/BRP/pages/user/index.vue?be64","webpack:///D:/Work/HB/BRP/pages/user/index.vue?946d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/user/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/user/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=137d5072&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/user/index.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=137d5072&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var f0 = _vm._f(\"toImgPath\")(_vm.memberInfo.headImageFilePath)\n\n  var f1 = _vm.type == \"member\" ? _vm._f(\"toScore\")(_vm.memberInfo.score) : null\n  var f2 = _vm.type == \"member\" ? _vm._f(\"toAmount\")(_vm.totalAmount) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        f0: f0,\n        f1: f1,\n        f2: f2\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"container\">\r\n\t\t\t<view class=\"line80\">\r\n\t\t\t\t<view class=\"line80\" style=\"float:left; \">\r\n\t\t\t\t\t<button class=\"avatar-wrapper\" open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\">\r\n\t\t\t\t\t\t<image :src=\"memberInfo.headImageFilePath | toImgPath\" style=\"width: 80rpx; height: 80rpx; border-radius: 40rpx;\"></image>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"line80 f28\" style=\"float:left; margin-left: 10rpx; font-weight: bold;\">昵称：{{memberInfo.name}}</view>\r\n\t\t\t</view> \r\n\t\t\t<view class=\"h40\" v-if=\"type=='member'\"></view>\r\n\t\t\t<view class=\"contentPanel\" v-if=\"type=='member'\"> <!-- 会员信息 -->\r\n\t\t\t\t<view class=\"h10\"></view>\r\n\t\t\t\t<view class=\"line220 userinfobb\">\r\n\t\t\t\t\t<view class=\"left40 \">\r\n\t\t\t\t\t\t<view class=\"line45 f28\"><text class=\"f28 userinfotext\">会员：</text><text class=\"f28 userinfovaluetext\">{{memberInfo.name}}</text></view>\r\n\t\t\t\t\t\t<view class=\"line65 f28\"><text class=\"f28 userinfotext\">编号：</text><text class=\"f28 userinfovaluetext\">{{memberInfo.memberNo}}</text></view>\r\n\t\t\t\t\t\t<view class=\"line65 f28\"><text class=\"f28 userinfotext\">会员积分：</text><text class=\"f28 userinfovaluetext\">{{memberInfo.score | toScore}}</text></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"left60 \">\r\n\t\t\t\t\t\t<view class=\"line45 f28\" style=\"font-weight: 600;\">会员权益</view>\r\n\t\t\t\t\t\t<view class=\"line65\">\r\n\t\t\t\t\t\t\t<view class=\"line50 userinfobtn\">图书借阅</view>\r\n\t\t\t\t\t\t\t<view class=\"line50 userinfobtn\">配送到家</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"line65\">\r\n\t\t\t\t\t\t\t<view class=\"line50 userinfobtn\">俱乐部会员</view>\r\n\t\t\t\t\t\t\t<view class=\"line50 userinfobtn\" :class=\"isGoodNightStory ?'userinfobtn':'noGoodNightStory'\">晚安故事</view> <!-- v-show=\"isGoodNightStory\" -->\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"h10 clear\"></view>\r\n\t\t\t\t\t<view class=\"line30 f28\"><text class=\"f28 userinfotext\">服务商：</text><text class=\"f28 userinfovaluetext\">{{memberInfo.companyName}}</text></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"line60\">\r\n\t\t\t\t\t<view class=\"left50 starTime f24\">开卡时间：{{memberCardEffectiveDateText}}</view>\r\n\t\t\t\t\t<view class=\"left50 endTime  f24\">到期时间：{{memberCardExpireDateText}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"line40\">\r\n\t\t\t\t\t<view class=\"left50 f24\"><text class=\"f24 userinfotext\">还能继续借阅：</text><text class=\"f24 userinfovaluetext\">{{days}}天</text></view>\r\n\t\t\t\t\t<view class=\"left50 f24\"><text class=\"f24 userinfotext\">一次最多可借阅：</text><text class=\"f24 userinfovaluetext\">{{memberInfo.maxBorrowQuantity}}本</text></view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h40\" v-if=\"type=='member'\"></view>\r\n\t\t\t<view class=\"contentPanel\" v-if=\"type=='member'\"> <!-- 借阅信息 -->\r\n\t\t\t\t<view class=\"line140\">\r\n\t\t\t\t\t<view class=\"left45 line80 onloanOrsavedPanel\">\r\n\t\t\t\t\t\t<view style=\"float: left;\">\r\n\t\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/onloan.png'\" style=\" width: 80rpx; height: 80rpx;\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"onloanTextPanel\">\r\n\t\t\t\t\t\t\t<view class=\"line40\"><text class=\"f36 onloantext\">{{totalCount}}</text><text class=\"f24\">本</text></view>\r\n\t\t\t\t\t\t\t<view class=\"line40 f24\">已借阅</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"left4 line80 onloanOrsavedPanel bleft\"></view>\r\n\t\t\t\t\t<view class=\"left50 line80 onloanOrsavedPanel\" >\r\n\t\t\t\t\t\t<view style=\"float: left;\">\r\n\t\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/saved.png'\"  style=\" width: 80rpx; height: 80rpx;\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"savedTextPanel\">\r\n\t\t\t\t\t\t\t<view class=\"line40\"><text class=\"f36 savedtext\">{{totalAmount | toAmount}}</text><text class=\"f24\">元</text></view>\r\n\t\t\t\t\t\t\t<view class=\"line40 f24\">已节省买书费用</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h40\" v-if=\"type!='member'\"></view>\r\n\t\t\t<view class=\"contentPanel center\" v-if=\"type!='member'\" style=\"display: inline-block; width: 95%;\" @click=\"clickToJionMember()\">\r\n\t\t\t\t<image :src=\" imageRootUrl + '/image/member/vip.png'\"   style=\"width: 240rpx; height: 228rpx;\"></image>\r\n\t\t\t\t<view class=\"joinMember\" style=\"\">加入会员</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h40\"></view>\r\n\t\t\t<view class=\"contentPanel h600\"> <!-- 按钮 -->\r\n\t\t\t\t<view class=\"left33 h180\" v-if=\"type=='member'\" @click=\"clickToScoreRecord()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/jfmx.png'\" class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">积分明细</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left33 h180\" v-if=\"type=='member'\" @click=\"clickToActivity()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/jlb.png'\" class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">俱乐部活动</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left33 h180\" v-if=\"type=='member'\" @click=\"clickToGoodNightStory()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/wags.png'\"  class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">晚安故事</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left33 h180\" @click=\"clickToBookMark()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/sc.png'\"  class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">我的收藏</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left33 h180\" v-if=\"type=='member'\" @click=\"clickToLoanableNotice()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/notice.png'\" class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">可借通知</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left33 h180\" v-if=\"type=='member'\" @click=\"clickToLoanRecord()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/jy.png'\" class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">借阅记录</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left33 h180\" v-if=\"type=='member'\" @click=\"clickToSuspendCard()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/tk.png'\"  class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">办理停卡</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"left33 h180\" v-if=\"type=='member'\" @click=\"clickToMemberCardRecord()\">\r\n\t\t\t\t\t<view class=\"line_130 center\">\r\n\t\t\t\t\t\t<image :src=\" imageRootUrl + '/image/member/bg.png'\" class=\"size100\" style=\" margin-top: 35rpx;\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"line_50 center f28\">会员卡变更记录</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"h150\"></view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport common from \"@/js/common.js\";\r\n\timport config from \"@/js/config.js\";\r\n\timport util from \"@/js/util.js\";\r\n\tlet statusBarHeight = uni.getSystemInfoSync().statusBarHeight; // 状态栏 高度\r\n\tlet that = null;\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\turl:\"http://admin.8630.net/WYB/UploadFile/headerTopbg.png\",\r\n\t\t\t\timageRootUrl:config.imageRootUrl,//图片地址\r\n\t\t\t\tadminRootUrl:config.adminRootUrl +\"/\",//后端图片地址\r\n\t\t\t\tstatusBarHeight,// 状态栏 高度\r\n\t\t\t\thead_is_fixed:0,\r\n\t\t\t\ttype:'member',//类型为会员  member=会员    ordinary=普通用户\r\n\t\t\t\tmemberInfo:{},//用户实体\r\n\t\t\t\tisGoodNightStory:false ,//是否显示晚安故事权益\r\n\t\t\t\tmemberCardEffectiveDateText:'',//开卡时间\r\n\t\t\t\tmemberCardExpireDateText:'',//到期时间\r\n\t\t\t\tdays:0,//还能继续借多少天\r\n\t\t\t\ttotalCount:0,//已借阅多少本\r\n\t\t\t\ttotalAmount:0,//已节省买书费用\r\n\t\t\t};\r\n\t\t},\r\n\t\tonReady() { },\r\n\t\tonShow() {\r\n\t\t\tthat.bindData(); //\r\n\t\t\tthat.GetViewClubActivity();//获取已借阅本数和以节省买书费用\r\n\t\t\tthat.GetNightStoryOrderCount();//判断是否在晚安故事订阅过\r\n\t\t},\r\n\t\tonPageScroll(e) {\r\n\t\t    that.head_is_fixed = e.scrollTop > 0 ? 1 : 0\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\tthat = this;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tbindData(){\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.id = 7\r\n\t\t\t\tcommon.call(\"GetViewMember\", data, function(result) {\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tthat.memberInfo = result.data;\r\n\t\t\t\t\tif(result.data.memberCardEffectiveDateText == \"\" || result.data.memberCardEffectiveDateText==null){\r\n\t\t\t\t\t\tthat.memberCardEffectiveDateText = \"\"\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.memberCardEffectiveDateText = result.data.memberCardEffectiveDateText.substring(0,10) //开卡时间\r\n\t\t\t\t\t\tvar memberCardEffectiveDate = new Date(that.memberCardEffectiveDateText);\r\n\t\t\t\t\t\tvar year = memberCardEffectiveDate.getFullYear()\r\n\t\t\t\t\t\tvar month = memberCardEffectiveDate.getMonth() + 1\r\n\t\t\t\t\t\tvar day = memberCardEffectiveDate.getDate();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tthat.memberCardEffectiveDateText = year+\"年\"+month+\"月\" +day+\"日\"\r\n\t\t\t\t\t\tconsole.log(that.memberCardEffectiveDateText)\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(result.data.memberCardExpireDateText == \"\" || result.data.memberCardExpireDateText==null){\r\n\t\t\t\t\t\tthat.memberCardExpireDateText = \"\"\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.memberCardExpireDateText = result.data.memberCardExpireDateText.substring(0,10) //到期时间\r\n\t\t\t\t\t\tvar memberCardExpireDate = new Date(that.memberCardExpireDateText);\r\n\t\t\t\t\t\tvar year1 = memberCardExpireDate.getFullYear()\r\n\t\t\t\t\t\tvar month1 = memberCardExpireDate.getMonth() + 1\r\n\t\t\t\t\t\tvar day1 = memberCardExpireDate.getDate();\r\n\t\t\t\t\t\tthat.memberCardExpireDateText = year1+\"年\"+month1+\"月\" +day1+\"日\"\r\n\t\t\t\t\t\tconsole.log(that.memberCardExpireDateText)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(that.memberCardEffectiveDateText != \"\" && that.memberCardExpireDateText !=\"\"){\r\n\t\t\t\t\t\tlet diff = Math.abs(memberCardEffectiveDate - memberCardExpireDate);\r\n\t\t\t\t\t\tlet days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n\t\t\t\t\t\tthat.days = days\r\n\t\t\t\t\t\tconsole.log(days)\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tGetNightStoryOrderCount(){////判断是否在晚安故事订阅过\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.memberId = 7\r\n\t\t\t\tcommon.call(\"GetNightStoryOrderCount\", data, function(result) {\r\n\t\t\t\t\tif(result.data.dataList[0].count > 0){\r\n\t\t\t\t\t\tthat.isGoodNightStory =true\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthat.isGoodNightStory =false\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tGetViewClubActivity(){ //获取已借阅本数和以节省买书费用\r\n\t\t\t\tvar data = {};\r\n\t\t\t\tdata.memberId = 7\r\n\t\t\t\tcommon.call(\"GetBorrowReport\", data, function(result) {\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tthat.totalCount = result.data.dataList[0].totalCount\r\n\t\t\t\t\tthat.totalAmount =result.data.dataList[0].totalAmount\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tonChooseAvatar(e) {\r\n\t\t\t    // this.uploadFilePromise(e.detail.avatarUrl)\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: config.serviceUrl + \"?serviceName=UploadFile\",\r\n\t\t\t\t\tfilePath: e.detail.avatarUrl,\r\n\t\t\t\t\tname: 'file',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tvar result = JSON.parse(res.data);\r\n\t\t\t\t\t\tconsole.log(result.data);\r\n\t\t\t\t\t\tconsole.log(result.data.path);\r\n\t\t\t\t\t\tthat.memberInfo.headImageFilePath = result.data.path \r\n\t\t\t\t\t\tvar result = JSON.parse(res.data);\r\n\t\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\t\tid: 7,\r\n\t\t\t\t\t\t\theadImageFileId: result.data.id,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tcommon.call(\"UpdateMember\", data, result => {\r\n\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\t\t\t\tcontent: \"上传成功！\",\r\n\t\t\t\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickToJionMember(){//跳转加入会员\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'joinMember'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToScoreRecord(){//跳转积分记录\r\n\t\t\t\tsetTimeout(() => { \r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'scoreRecord'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToGoodNightStory(){//跳转晚安故事\r\n\t\t\t\tsetTimeout(() => { \r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'goodNightStory'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToActivity(){//跳转俱乐部活动\r\n\t\t\t\tsetTimeout(() => { \r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'activity'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToBookMark(){//跳转我的收藏\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'bookMark'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToLoanableNotice(){//跳转可借通知\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'loanableNotice'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToLoanRecord(){ //跳转到借阅记录\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'loanRecord'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToSuspendCard(){ //跳转到办理停卡\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'suspendCard'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t\tclickToMemberCardRecord(){ //跳转到会员卡变更记录\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: 'memberCardRecord'\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 200);\r\n\t\t\t},\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t\ttoImgPath: function(value) {\r\n\t\t\t\tif (value == null || value == \"\") {\r\n\t\t\t\t\treturn \"/static/image/common/uploadImage.png\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn that.adminRootUrl + value;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoScore: function(value) {\r\n\t\t\t\tif (value == null || value == \"\") {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoAmount: function(value) {\r\n\t\t\t\tif (value == null || value == \"\") {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t}\r\n\t};\n</script>\n\n<style lang=\"scss\">\r\n\t@import url(\"/css/common.css\");\r\n\tpage {\r\n\t\tbackground: #5EAC59;\r\n\t}\r\n\t.container{\r\n\t\t\r\n\t}\r\n\t.userinfobb{\r\n\t\tborder-bottom: 1rpx solid #F3F3F3;\r\n\t}\r\n\t.userinfotext{\r\n\t\tcolor: #999999;\r\n\t}\r\n\t.userinfovaluetext{\r\n\t\tcolor: #333333;\r\n\t}\r\n\t.userinfobtn{\r\n\t\twidth: 170rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground: #FACC3F; \r\n\t\tborder-radius: 12rpx;\r\n\t\topacity: 1;\r\n\t\tfont-size: 23rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50rpx;\r\n\t\tmargin-top: 7rpx;\r\n\t\tfloat: left;\r\n\t\tmargin-right: 10rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.noGoodNightStory{\r\n\t\twidth: 170rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground: #c1c1c1; \r\n\t\tcolor: white;\r\n\t\tborder-radius: 12rpx;\r\n\t\topacity: 1;\r\n\t\tfont-size: 23rpx;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50rpx;\r\n\t\tmargin-top: 7rpx;\r\n\t\tfloat: left;\r\n\t\tmargin-right: 10rpx;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.starTime{\r\n\t\tcolor: #53D776;\r\n\t}\r\n\t.endTime{\r\n\t\tcolor: #FE613D;\r\n\t}\r\n\t.onloanOrsavedPanel{\r\n\t\tmargin-top: 30rpx;\r\n\t}\r\n\t.bleft{\r\n\t\tborder-left: 1px solid #F3F3F3;\r\n\t}\r\n\t.onloanTextPanel{\r\n\t\tfloat: left; margin-left: 10rpx;\r\n\t}\r\n\t.savedTextPanel{\r\n\t\tfloat: left; margin-left: 10rpx;\r\n\t}\r\n\t.onloantext{\r\n\t\tcolor: #FE613D;font-weight: bold;\r\n\t}\r\n\t.savedtext{\r\n\t\tcolor: #53D776;font-weight: bold;\r\n\t}\r\n\t.joinMember{\r\n\t\twidth: 200rpx; height: 70rpx;line-height: 70rpx;  background-color: #FACC3F; color: #000000; border-radius: 50rpx; text-align: center;font-weight: 600;font-size: 30rpx; margin: 0 auto;\r\n\t}\r\n\t.avatar-wrapper{\r\n\t\tborder: none;\r\n\t\tbackground: none;\r\n\t\t/* position: inherit; */\r\n\t\tpadding:0px;\r\n\t}\r\n\tuni-button:after{\r\n\t\tborder: none;\r\n\t}\r\n\tbutton::after {\r\n\t\tborder: none;\r\n\t}\r\n</style>","import mod from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\Administrator\\\\Desktop\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1707110724806\n      var cssReload = require(\"C:/Users/Administrator/Desktop/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}